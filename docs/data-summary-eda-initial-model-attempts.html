<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 4 Data Summary, EDA, &amp; Initial Model Attempts | Telfer 2020 Directed Reading: Natural Language Processing</title>
  <meta name="description" content="This is Christopher Belanger’s work product for the Telfer School of Management course MBA6292, Directed Readings in Natural Language Processing." />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 4 Data Summary, EDA, &amp; Initial Model Attempts | Telfer 2020 Directed Reading: Natural Language Processing" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This is Christopher Belanger’s work product for the Telfer School of Management course MBA6292, Directed Readings in Natural Language Processing." />
  <meta name="github-repo" content="rstudio/bookdown-demo" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 4 Data Summary, EDA, &amp; Initial Model Attempts | Telfer 2020 Directed Reading: Natural Language Processing" />
  
  <meta name="twitter:description" content="This is Christopher Belanger’s work product for the Telfer School of Management course MBA6292, Directed Readings in Natural Language Processing." />
  

<meta name="author" content="Christopher Belanger" />


<meta name="date" content="2020-12-10" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="web-scraping-our-data.html"/>
<link rel="next" href="a-first-lasso-attempt.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>
<link href="libs/anchor-sections-1.0/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0/anchor-sections.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>


<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">MBA6292: Directed Readings in NLP</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Preface</a></li>
<li class="chapter" data-level="2" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i><b>2</b> Introduction</a></li>
<li class="chapter" data-level="3" data-path="web-scraping-our-data.html"><a href="web-scraping-our-data.html"><i class="fa fa-check"></i><b>3</b> Web Scraping Our Data</a><ul>
<li class="chapter" data-level="3.1" data-path="web-scraping-our-data.html"><a href="web-scraping-our-data.html#foreword-ethics"><i class="fa fa-check"></i><b>3.1</b> Foreword: Ethics</a></li>
<li class="chapter" data-level="3.2" data-path="web-scraping-our-data.html"><a href="web-scraping-our-data.html#the-general-idea"><i class="fa fa-check"></i><b>3.2</b> The General Idea</a></li>
<li class="chapter" data-level="3.3" data-path="web-scraping-our-data.html"><a href="web-scraping-our-data.html#goodreads-css-selectors"><i class="fa fa-check"></i><b>3.3</b> Goodreads: CSS Selectors</a><ul>
<li class="chapter" data-level="3.3.1" data-path="web-scraping-our-data.html"><a href="web-scraping-our-data.html#scraping-the-index"><i class="fa fa-check"></i><b>3.3.1</b> Scraping the Index</a></li>
<li class="chapter" data-level="3.3.2" data-path="web-scraping-our-data.html"><a href="web-scraping-our-data.html#scraping-the-content"><i class="fa fa-check"></i><b>3.3.2</b> Scraping the Content</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="web-scraping-our-data.html"><a href="web-scraping-our-data.html#yelp-embedded-json"><i class="fa fa-check"></i><b>3.4</b> Yelp: Embedded JSON</a><ul>
<li class="chapter" data-level="3.4.1" data-path="web-scraping-our-data.html"><a href="web-scraping-our-data.html#scraping-the-index-1"><i class="fa fa-check"></i><b>3.4.1</b> Scraping the Index</a></li>
<li class="chapter" data-level="3.4.2" data-path="web-scraping-our-data.html"><a href="web-scraping-our-data.html#scraping-the-content-1"><i class="fa fa-check"></i><b>3.4.2</b> Scraping the Content</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="web-scraping-our-data.html"><a href="web-scraping-our-data.html#mec-reverse-engineering-client-side-api-calls"><i class="fa fa-check"></i><b>3.5</b> MEC: Reverse-Engineering Client-Side API Calls</a><ul>
<li class="chapter" data-level="3.5.1" data-path="web-scraping-our-data.html"><a href="web-scraping-our-data.html#scraping-the-index-2"><i class="fa fa-check"></i><b>3.5.1</b> Scraping the Index</a></li>
<li class="chapter" data-level="3.5.2" data-path="web-scraping-our-data.html"><a href="web-scraping-our-data.html#functions-for-api-calls"><i class="fa fa-check"></i><b>3.5.2</b> Functions for API Calls</a></li>
<li class="chapter" data-level="3.5.3" data-path="web-scraping-our-data.html"><a href="web-scraping-our-data.html#scraping-the-content-2"><i class="fa fa-check"></i><b>3.5.3</b> Scraping the Content</a></li>
</ul></li>
<li class="chapter" data-level="3.6" data-path="web-scraping-our-data.html"><a href="web-scraping-our-data.html#summary"><i class="fa fa-check"></i><b>3.6</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="data-summary-eda-initial-model-attempts.html"><a href="data-summary-eda-initial-model-attempts.html"><i class="fa fa-check"></i><b>4</b> Data Summary, EDA, &amp; Initial Model Attempts</a><ul>
<li class="chapter" data-level="4.1" data-path="data-summary-eda-initial-model-attempts.html"><a href="data-summary-eda-initial-model-attempts.html#introduction"><i class="fa fa-check"></i><b>4.1</b> Introduction</a></li>
<li class="chapter" data-level="4.2" data-path="data-summary-eda-initial-model-attempts.html"><a href="data-summary-eda-initial-model-attempts.html#goodreads"><i class="fa fa-check"></i><b>4.2</b> Goodreads</a><ul>
<li class="chapter" data-level="4.2.1" data-path="data-summary-eda-initial-model-attempts.html"><a href="data-summary-eda-initial-model-attempts.html#star-ratings"><i class="fa fa-check"></i><b>4.2.1</b> Star Ratings</a></li>
<li class="chapter" data-level="4.2.2" data-path="data-summary-eda-initial-model-attempts.html"><a href="data-summary-eda-initial-model-attempts.html#word-count"><i class="fa fa-check"></i><b>4.2.2</b> Word Count</a></li>
<li class="chapter" data-level="4.2.3" data-path="data-summary-eda-initial-model-attempts.html"><a href="data-summary-eda-initial-model-attempts.html#reviewers"><i class="fa fa-check"></i><b>4.2.3</b> Reviewers</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="data-summary-eda-initial-model-attempts.html"><a href="data-summary-eda-initial-model-attempts.html#yelp"><i class="fa fa-check"></i><b>4.3</b> Yelp</a><ul>
<li class="chapter" data-level="4.3.1" data-path="data-summary-eda-initial-model-attempts.html"><a href="data-summary-eda-initial-model-attempts.html#star-ratings-1"><i class="fa fa-check"></i><b>4.3.1</b> Star Ratings</a></li>
<li class="chapter" data-level="4.3.2" data-path="data-summary-eda-initial-model-attempts.html"><a href="data-summary-eda-initial-model-attempts.html#word-count-1"><i class="fa fa-check"></i><b>4.3.2</b> Word Count</a></li>
<li class="chapter" data-level="4.3.3" data-path="data-summary-eda-initial-model-attempts.html"><a href="data-summary-eda-initial-model-attempts.html#reviewers-1"><i class="fa fa-check"></i><b>4.3.3</b> Reviewers</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="data-summary-eda-initial-model-attempts.html"><a href="data-summary-eda-initial-model-attempts.html#mountain-equipment-co-op-mec"><i class="fa fa-check"></i><b>4.4</b> Mountain Equipment Co-op (MEC)</a><ul>
<li class="chapter" data-level="4.4.1" data-path="data-summary-eda-initial-model-attempts.html"><a href="data-summary-eda-initial-model-attempts.html#star-ratings-2"><i class="fa fa-check"></i><b>4.4.1</b> Star Ratings</a></li>
<li class="chapter" data-level="4.4.2" data-path="data-summary-eda-initial-model-attempts.html"><a href="data-summary-eda-initial-model-attempts.html#word-counts"><i class="fa fa-check"></i><b>4.4.2</b> Word Counts</a></li>
<li class="chapter" data-level="4.4.3" data-path="data-summary-eda-initial-model-attempts.html"><a href="data-summary-eda-initial-model-attempts.html#reviewers-2"><i class="fa fa-check"></i><b>4.4.3</b> Reviewers</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="data-summary-eda-initial-model-attempts.html"><a href="data-summary-eda-initial-model-attempts.html#comparing-goodreads-mec-and-yelp"><i class="fa fa-check"></i><b>4.5</b> Comparing Goodreads, MEC, and Yelp</a><ul>
<li class="chapter" data-level="4.5.1" data-path="data-summary-eda-initial-model-attempts.html"><a href="data-summary-eda-initial-model-attempts.html#star-ratings-3"><i class="fa fa-check"></i><b>4.5.1</b> Star Ratings</a></li>
<li class="chapter" data-level="4.5.2" data-path="data-summary-eda-initial-model-attempts.html"><a href="data-summary-eda-initial-model-attempts.html#word-counts-1"><i class="fa fa-check"></i><b>4.5.2</b> Word Counts</a></li>
</ul></li>
<li class="chapter" data-level="4.6" data-path="data-summary-eda-initial-model-attempts.html"><a href="data-summary-eda-initial-model-attempts.html#reviews-over-time"><i class="fa fa-check"></i><b>4.6</b> Reviews Over Time</a><ul>
<li class="chapter" data-level="4.6.1" data-path="data-summary-eda-initial-model-attempts.html"><a href="data-summary-eda-initial-model-attempts.html#goodreads-1"><i class="fa fa-check"></i><b>4.6.1</b> Goodreads</a></li>
<li class="chapter" data-level="4.6.2" data-path="data-summary-eda-initial-model-attempts.html"><a href="data-summary-eda-initial-model-attempts.html#yelp-1"><i class="fa fa-check"></i><b>4.6.2</b> Yelp</a></li>
<li class="chapter" data-level="4.6.3" data-path="data-summary-eda-initial-model-attempts.html"><a href="data-summary-eda-initial-model-attempts.html#mec"><i class="fa fa-check"></i><b>4.6.3</b> MEC</a></li>
</ul></li>
<li class="chapter" data-level="4.7" data-path="data-summary-eda-initial-model-attempts.html"><a href="data-summary-eda-initial-model-attempts.html#proposed-next-steps"><i class="fa fa-check"></i><b>4.7</b> Proposed Next Steps</a></li>
<li class="chapter" data-level="4.8" data-path="data-summary-eda-initial-model-attempts.html"><a href="data-summary-eda-initial-model-attempts.html#sessioninfo"><i class="fa fa-check"></i><b>4.8</b> SessionInfo</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="a-first-lasso-attempt.html"><a href="a-first-lasso-attempt.html"><i class="fa fa-check"></i><b>5</b> A First LASSO Attempt</a><ul>
<li class="chapter" data-level="5.1" data-path="a-first-lasso-attempt.html"><a href="a-first-lasso-attempt.html#introduction-1"><i class="fa fa-check"></i><b>5.1</b> Introduction</a></li>
<li class="chapter" data-level="5.2" data-path="a-first-lasso-attempt.html"><a href="a-first-lasso-attempt.html#a-first-regression-yelp-data"><i class="fa fa-check"></i><b>5.2</b> A First Regression: Yelp Data</a><ul>
<li class="chapter" data-level="5.2.1" data-path="a-first-lasso-attempt.html"><a href="a-first-lasso-attempt.html#splitting-the-data"><i class="fa fa-check"></i><b>5.2.1</b> Splitting the data</a></li>
<li class="chapter" data-level="5.2.2" data-path="a-first-lasso-attempt.html"><a href="a-first-lasso-attempt.html#evaluating-the-first-model"><i class="fa fa-check"></i><b>5.2.2</b> Evaluating the first model</a></li>
<li class="chapter" data-level="5.2.3" data-path="a-first-lasso-attempt.html"><a href="a-first-lasso-attempt.html#tuning-model-parameters"><i class="fa fa-check"></i><b>5.2.3</b> Tuning model parameters</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="a-first-lasso-attempt.html"><a href="a-first-lasso-attempt.html#trying-lasso-again"><i class="fa fa-check"></i><b>5.3</b> Trying lasso again</a><ul>
<li class="chapter" data-level="5.3.1" data-path="a-first-lasso-attempt.html"><a href="a-first-lasso-attempt.html#with-1000-tokens"><i class="fa fa-check"></i><b>5.3.1</b> With 1000 tokens</a></li>
<li class="chapter" data-level="5.3.2" data-path="a-first-lasso-attempt.html"><a href="a-first-lasso-attempt.html#short-reviews-only-125-words"><i class="fa fa-check"></i><b>5.3.2</b> Short reviews only: &lt;125 words</a></li>
<li class="chapter" data-level="5.3.3" data-path="a-first-lasso-attempt.html"><a href="a-first-lasso-attempt.html#longer-reviews-125-words"><i class="fa fa-check"></i><b>5.3.3</b> Longer reviews &gt; 125 words</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="a-first-lasso-attempt.html"><a href="a-first-lasso-attempt.html#removing-stop-words"><i class="fa fa-check"></i><b>5.4</b> Removing stop words</a></li>
<li class="chapter" data-level="5.5" data-path="a-first-lasso-attempt.html"><a href="a-first-lasso-attempt.html#adjusting-n-grams"><i class="fa fa-check"></i><b>5.5</b> Adjusting n-grams</a></li>
<li class="chapter" data-level="5.6" data-path="a-first-lasso-attempt.html"><a href="a-first-lasso-attempt.html#full-final-regression"><i class="fa fa-check"></i><b>5.6</b> Full final regression</a></li>
<li class="chapter" data-level="5.7" data-path="a-first-lasso-attempt.html"><a href="a-first-lasso-attempt.html#conclusion"><i class="fa fa-check"></i><b>5.7</b> Conclusion</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="yelp-classification-and-sentiment-test.html"><a href="yelp-classification-and-sentiment-test.html"><i class="fa fa-check"></i><b>6</b> Yelp Classification and Sentiment Test</a><ul>
<li class="chapter" data-level="6.1" data-path="yelp-classification-and-sentiment-test.html"><a href="yelp-classification-and-sentiment-test.html#yelp-dataset"><i class="fa fa-check"></i><b>6.1</b> Yelp Dataset</a><ul>
<li class="chapter" data-level="6.1.1" data-path="yelp-classification-and-sentiment-test.html"><a href="yelp-classification-and-sentiment-test.html#afinn"><i class="fa fa-check"></i><b>6.1.1</b> AFINN</a></li>
<li class="chapter" data-level="6.1.2" data-path="yelp-classification-and-sentiment-test.html"><a href="yelp-classification-and-sentiment-test.html#classification-naive-bayes-classifier"><i class="fa fa-check"></i><b>6.1.2</b> Classification: Naive Bayes Classifier</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="yelp-classification-and-sentiment-test.html"><a href="yelp-classification-and-sentiment-test.html#kaggle-yelp-dataset"><i class="fa fa-check"></i><b>6.2</b> Kaggle Yelp dataset</a><ul>
<li class="chapter" data-level="6.2.1" data-path="yelp-classification-and-sentiment-test.html"><a href="yelp-classification-and-sentiment-test.html#naive-bayes-classifier"><i class="fa fa-check"></i><b>6.2.1</b> Naive Bayes Classifier</a></li>
<li class="chapter" data-level="6.2.2" data-path="yelp-classification-and-sentiment-test.html"><a href="yelp-classification-and-sentiment-test.html#logistic-regression"><i class="fa fa-check"></i><b>6.2.2</b> Logistic Regression</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="yelp-classification-and-sentiment-test.html"><a href="yelp-classification-and-sentiment-test.html#next-steps"><i class="fa fa-check"></i><b>6.3</b> NEXT STEPS</a></li>
<li class="chapter" data-level="6.4" data-path="yelp-classification-and-sentiment-test.html"><a href="yelp-classification-and-sentiment-test.html#sessioninfo-1"><i class="fa fa-check"></i><b>6.4</b> SessionInfo</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="the-mvp-classification-accuracy-as-a-function-of-review-length-and-volume.html"><a href="the-mvp-classification-accuracy-as-a-function-of-review-length-and-volume.html"><i class="fa fa-check"></i><b>7</b> The MVP: Classification Accuracy as a Function of Review Length and Volume</a><ul>
<li class="chapter" data-level="7.1" data-path="the-mvp-classification-accuracy-as-a-function-of-review-length-and-volume.html"><a href="the-mvp-classification-accuracy-as-a-function-of-review-length-and-volume.html#introduction-2"><i class="fa fa-check"></i><b>7.1</b> Introduction</a></li>
<li class="chapter" data-level="7.2" data-path="the-mvp-classification-accuracy-as-a-function-of-review-length-and-volume.html"><a href="the-mvp-classification-accuracy-as-a-function-of-review-length-and-volume.html#preparing-the-data"><i class="fa fa-check"></i><b>7.2</b> Preparing the Data</a></li>
<li class="chapter" data-level="7.3" data-path="the-mvp-classification-accuracy-as-a-function-of-review-length-and-volume.html"><a href="the-mvp-classification-accuracy-as-a-function-of-review-length-and-volume.html#experiment-1-logistic-regression-on-globally-balanced-data"><i class="fa fa-check"></i><b>7.3</b> Experiment 1: Logistic Regression on Globally Balanced Data</a></li>
<li class="chapter" data-level="7.4" data-path="the-mvp-classification-accuracy-as-a-function-of-review-length-and-volume.html"><a href="the-mvp-classification-accuracy-as-a-function-of-review-length-and-volume.html#experiment-2-logistic-regression-on-micro-balanced-data"><i class="fa fa-check"></i><b>7.4</b> Experiment 2: Logistic Regression on Micro-Balanced Data</a></li>
<li class="chapter" data-level="7.5" data-path="the-mvp-classification-accuracy-as-a-function-of-review-length-and-volume.html"><a href="the-mvp-classification-accuracy-as-a-function-of-review-length-and-volume.html#conclusions"><i class="fa fa-check"></i><b>7.5</b> Conclusions</a></li>
<li class="chapter" data-level="7.6" data-path="the-mvp-classification-accuracy-as-a-function-of-review-length-and-volume.html"><a href="the-mvp-classification-accuracy-as-a-function-of-review-length-and-volume.html#next-steps-1"><i class="fa fa-check"></i><b>7.6</b> Next Steps</a></li>
<li class="chapter" data-level="7.7" data-path="the-mvp-classification-accuracy-as-a-function-of-review-length-and-volume.html"><a href="the-mvp-classification-accuracy-as-a-function-of-review-length-and-volume.html#sessioninfo-2"><i class="fa fa-check"></i><b>7.7</b> SessionInfo</a></li>
<li class="chapter" data-level="7.8" data-path="the-mvp-classification-accuracy-as-a-function-of-review-length-and-volume.html"><a href="the-mvp-classification-accuracy-as-a-function-of-review-length-and-volume.html#references"><i class="fa fa-check"></i><b>7.8</b> References</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="beyond-the-mvp-looking-at-longer-reviews.html"><a href="beyond-the-mvp-looking-at-longer-reviews.html"><i class="fa fa-check"></i><b>8</b> Beyond the MVP: Looking at Longer Reviews</a><ul>
<li class="chapter" data-level="8.1" data-path="beyond-the-mvp-looking-at-longer-reviews.html"><a href="beyond-the-mvp-looking-at-longer-reviews.html#introduction-3"><i class="fa fa-check"></i><b>8.1</b> Introduction</a></li>
<li class="chapter" data-level="8.2" data-path="beyond-the-mvp-looking-at-longer-reviews.html"><a href="beyond-the-mvp-looking-at-longer-reviews.html#results-from-the-previous-section"><i class="fa fa-check"></i><b>8.2</b> Results from the Previous Section</a></li>
<li class="chapter" data-level="8.3" data-path="beyond-the-mvp-looking-at-longer-reviews.html"><a href="beyond-the-mvp-looking-at-longer-reviews.html#finding-misclassified-reviews"><i class="fa fa-check"></i><b>8.3</b> Finding Misclassified Reviews</a></li>
<li class="chapter" data-level="8.4" data-path="beyond-the-mvp-looking-at-longer-reviews.html"><a href="beyond-the-mvp-looking-at-longer-reviews.html#qualitative-analysis-of-misclassified-reviews"><i class="fa fa-check"></i><b>8.4</b> Qualitative Analysis of Misclassified Reviews</a></li>
<li class="chapter" data-level="8.5" data-path="beyond-the-mvp-looking-at-longer-reviews.html"><a href="beyond-the-mvp-looking-at-longer-reviews.html#negations"><i class="fa fa-check"></i><b>8.5</b> Negations</a><ul>
<li class="chapter" data-level="8.5.1" data-path="beyond-the-mvp-looking-at-longer-reviews.html"><a href="beyond-the-mvp-looking-at-longer-reviews.html#negations-and-prediction-accuracy"><i class="fa fa-check"></i><b>8.5.1</b> Negations and Prediction Accuracy</a></li>
<li class="chapter" data-level="8.5.2" data-path="beyond-the-mvp-looking-at-longer-reviews.html"><a href="beyond-the-mvp-looking-at-longer-reviews.html#negations-and-word-length"><i class="fa fa-check"></i><b>8.5.2</b> Negations and Word Length</a></li>
</ul></li>
<li class="chapter" data-level="8.6" data-path="beyond-the-mvp-looking-at-longer-reviews.html"><a href="beyond-the-mvp-looking-at-longer-reviews.html#readability"><i class="fa fa-check"></i><b>8.6</b> Readability</a></li>
<li class="chapter" data-level="8.7" data-path="beyond-the-mvp-looking-at-longer-reviews.html"><a href="beyond-the-mvp-looking-at-longer-reviews.html#summing-up-so-far"><i class="fa fa-check"></i><b>8.7</b> Summing Up So Far</a></li>
<li class="chapter" data-level="8.8" data-path="beyond-the-mvp-looking-at-longer-reviews.html"><a href="beyond-the-mvp-looking-at-longer-reviews.html#logistic-regression-on-afinn-negators"><i class="fa fa-check"></i><b>8.8</b> Logistic Regression on AFINN + negators</a></li>
<li class="chapter" data-level="8.9" data-path="beyond-the-mvp-looking-at-longer-reviews.html"><a href="beyond-the-mvp-looking-at-longer-reviews.html#logistic-regression-on-mean-afinn-negators"><i class="fa fa-check"></i><b>8.9</b> Logistic Regression on Mean AFINN + negators</a></li>
<li class="chapter" data-level="8.10" data-path="beyond-the-mvp-looking-at-longer-reviews.html"><a href="beyond-the-mvp-looking-at-longer-reviews.html#comparing-models-multiple-trials"><i class="fa fa-check"></i><b>8.10</b> Comparing Models: Multiple Trials</a></li>
<li class="chapter" data-level="8.11" data-path="beyond-the-mvp-looking-at-longer-reviews.html"><a href="beyond-the-mvp-looking-at-longer-reviews.html#re-running-the-big-analysis"><i class="fa fa-check"></i><b>8.11</b> Re-Running the Big Analysis</a></li>
<li class="chapter" data-level="8.12" data-path="beyond-the-mvp-looking-at-longer-reviews.html"><a href="beyond-the-mvp-looking-at-longer-reviews.html#conclusion-1"><i class="fa fa-check"></i><b>8.12</b> Conclusion</a></li>
<li class="chapter" data-level="8.13" data-path="beyond-the-mvp-looking-at-longer-reviews.html"><a href="beyond-the-mvp-looking-at-longer-reviews.html#sessioninfo-3"><i class="fa fa-check"></i><b>8.13</b> SessionInfo</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="beyond-the-mvp-support-vector-machine-classification.html"><a href="beyond-the-mvp-support-vector-machine-classification.html"><i class="fa fa-check"></i><b>9</b> Beyond the MVP: Support Vector Machine Classification</a><ul>
<li class="chapter" data-level="9.1" data-path="beyond-the-mvp-support-vector-machine-classification.html"><a href="beyond-the-mvp-support-vector-machine-classification.html#introduction-4"><i class="fa fa-check"></i><b>9.1</b> Introduction</a></li>
<li class="chapter" data-level="9.2" data-path="beyond-the-mvp-support-vector-machine-classification.html"><a href="beyond-the-mvp-support-vector-machine-classification.html#svm-classifiers"><i class="fa fa-check"></i><b>9.2</b> SVM Classifiers</a></li>
<li class="chapter" data-level="9.3" data-path="beyond-the-mvp-support-vector-machine-classification.html"><a href="beyond-the-mvp-support-vector-machine-classification.html#preparing-the-data-1"><i class="fa fa-check"></i><b>9.3</b> Preparing the Data</a></li>
<li class="chapter" data-level="9.4" data-path="beyond-the-mvp-support-vector-machine-classification.html"><a href="beyond-the-mvp-support-vector-machine-classification.html#svm-classification"><i class="fa fa-check"></i><b>9.4</b> SVM Classification</a></li>
<li class="chapter" data-level="9.5" data-path="beyond-the-mvp-support-vector-machine-classification.html"><a href="beyond-the-mvp-support-vector-machine-classification.html#predicting-with-last_fit"><i class="fa fa-check"></i><b>9.5</b> Predicting with <code>last_fit()</code></a></li>
<li class="chapter" data-level="9.6" data-path="beyond-the-mvp-support-vector-machine-classification.html"><a href="beyond-the-mvp-support-vector-machine-classification.html#fitting-and-predicting-using-fit"><i class="fa fa-check"></i><b>9.6</b> Fitting and Predicting Using <code>fit()</code></a></li>
<li class="chapter" data-level="9.7" data-path="beyond-the-mvp-support-vector-machine-classification.html"><a href="beyond-the-mvp-support-vector-machine-classification.html#conclusions-1"><i class="fa fa-check"></i><b>9.7</b> Conclusions</a></li>
<li class="chapter" data-level="9.8" data-path="beyond-the-mvp-support-vector-machine-classification.html"><a href="beyond-the-mvp-support-vector-machine-classification.html#sessioninfo-4"><i class="fa fa-check"></i><b>9.8</b> SessionInfo</a></li>
<li class="chapter" data-level="9.9" data-path="beyond-the-mvp-support-vector-machine-classification.html"><a href="beyond-the-mvp-support-vector-machine-classification.html#references-1"><i class="fa fa-check"></i><b>9.9</b> References</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="building-a-shiny-app.html"><a href="building-a-shiny-app.html"><i class="fa fa-check"></i><b>10</b> Building a Shiny App</a><ul>
<li class="chapter" data-level="10.1" data-path="building-a-shiny-app.html"><a href="building-a-shiny-app.html#the-app"><i class="fa fa-check"></i><b>10.1</b> The App!</a></li>
<li class="chapter" data-level="10.2" data-path="building-a-shiny-app.html"><a href="building-a-shiny-app.html#exporting-our-models"><i class="fa fa-check"></i><b>10.2</b> Exporting Our Models</a></li>
<li class="chapter" data-level="10.3" data-path="building-a-shiny-app.html"><a href="building-a-shiny-app.html#prepping-and-testing-our-models"><i class="fa fa-check"></i><b>10.3</b> Prepping and Testing Our Models</a></li>
<li class="chapter" data-level="10.4" data-path="building-a-shiny-app.html"><a href="building-a-shiny-app.html#saving-the-data"><i class="fa fa-check"></i><b>10.4</b> Saving the Data</a></li>
<li class="chapter" data-level="10.5" data-path="building-a-shiny-app.html"><a href="building-a-shiny-app.html#the-logic-of-the-app"><i class="fa fa-check"></i><b>10.5</b> The Logic of the App</a></li>
<li class="chapter" data-level="10.6" data-path="building-a-shiny-app.html"><a href="building-a-shiny-app.html#putting-it-all-together"><i class="fa fa-check"></i><b>10.6</b> Putting it All Together</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references-2.html"><a href="references-2.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Telfer 2020 Directed Reading: Natural Language Processing</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="data-summary-eda-initial-model-attempts" class="section level1">
<h1><span class="header-section-number">Chapter 4</span> Data Summary, EDA, &amp; Initial Model Attempts</h1>
<div id="introduction" class="section level2">
<h2><span class="header-section-number">4.1</span> Introduction</h2>
<p>I have three original datasets for analysis, both of which were collected from public websites between October 21 and 27, 2020.</p>
<ol style="list-style-type: decimal">
<li><strong>Yelp Reviews:</strong> 9,402 reviews for restaurants in Ottawa, which I believe includes all reviews available as of October 21. Each review includes:
<ul>
<li><strong>Business Name:</strong> The name the business is listed as operating under on Yelp. (Character)</li>
<li><strong>Reviewer Name:</strong> The screen name of the user who wrote the review. (Character)</li>
<li><strong>Review Date:</strong> The date the review was posted. (Character in mm/dd/yyyy format)</li>
<li><strong>Review Text:</strong> The full text of the review. (Character)</li>
<li><strong>Star Rating:</strong> The number of stars associated with the review (Integer from 1 to 5)</li>
<li><strong>Review URL:</strong> The URL from which the review was downloaded for traceability. (Character)</li>
</ul></li>
<li><strong>Goodreads Reviews:</strong> 17,091 book reviews, culled from the first-page reviews of the “100 most-read books” in a number of genres. Each review includes:
<ul>
<li><strong>Book Title:</strong> The title of the book. (Character)</li>
<li><strong>Book Genre:</strong> The Goodreads-assigned genre of the book, e.g. “scifi” or “romance.” (Character)</li>
<li><strong>Book Author:</strong> The author of the book. (Character)</li>
<li><strong>Reviewer Name:</strong> The screen name of the user who wrote the review. (Character)</li>
<li><strong>Review Date:</strong> The date the review was posted. (Character in yyyy-mm-dd format)</li>
<li><strong>Review Text:</strong> The full text of the review. (Character)</li>
<li><strong>Star Text:</strong> Goodreads’ text equivalent for star ratings. (Character)</li>
<li><strong>Star Rating:</strong> The number of stars associated with the review (Integer from 1 to 5)</li>
<li><strong>Review URL:</strong> The URL from which the review was downloaded for traceability. (Character)</li>
</ul></li>
<li><strong>Mountain Equipment Co-op (MEC) Reviews:</strong> 2,392 reviews for products for sale from MEC. Each review includes:
<ul>
<li><strong>Product Type:</strong> MEC’s categorization for the product (e.g. mittens, bicycle components.) (Character)</li>
<li><strong>Product Brand:</strong> The brand under which the product is marketed on MEC’s website. (Character)</li>
<li><strong>Product Name:</strong> The name of the product. (Character)</li>
<li><strong>Product ID:</strong> MEC’s internal product ID, used to call the API. (Character)</li>
<li><strong>Reviewer Name:</strong> The username of the review writer. (Character)</li>
<li><strong>Review Date:</strong> The date the review was left. (Character)</li>
<li><strong>Review Title:</strong> The title of the review. (Character)</li>
<li><strong>Review Text:</strong> The complete text of the review. (Character)</li>
<li><strong>Star Rating:</strong> The number of stars associated with the review. (Integer from 1 to 5)</li>
</ul></li>
</ol>
<p>In this section, I’ll take a look at these two datasets to get a feel for the star ratings and review text. I will consider each dataset in turn.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="data-summary-eda-initial-model-attempts.html#cb10-1"></a>reviews_yelp &lt;-<span class="st"> </span><span class="kw">read_csv</span>(<span class="st">&quot;../tests/data/ottawa_yelp_reviews.csv&quot;</span>) <span class="op">%&gt;%</span></span>
<span id="cb10-2"><a href="data-summary-eda-initial-model-attempts.html#cb10-2"></a><span class="st">  </span><span class="kw">rename</span>(<span class="dt">rating_num =</span> rating)</span>
<span id="cb10-3"><a href="data-summary-eda-initial-model-attempts.html#cb10-3"></a>reviews_gr &lt;-<span class="st"> </span><span class="kw">read_csv</span>(<span class="st">&quot;../tests/data/goodreads_all.csv&quot;</span>)</span>
<span id="cb10-4"><a href="data-summary-eda-initial-model-attempts.html#cb10-4"></a></span>
<span id="cb10-5"><a href="data-summary-eda-initial-model-attempts.html#cb10-5"></a>reviews_mec &lt;-<span class="st"> </span><span class="kw">read_csv</span>(<span class="st">&quot;../tests/data/mec-reviews.csv&quot;</span>) <span class="op">%&gt;%</span></span>
<span id="cb10-6"><a href="data-summary-eda-initial-model-attempts.html#cb10-6"></a><span class="st">  </span><span class="kw">rename</span>(<span class="dt">comment =</span> review_text,</span>
<span id="cb10-7"><a href="data-summary-eda-initial-model-attempts.html#cb10-7"></a>         <span class="dt">date =</span> review_date)</span></code></pre></div>
</div>
<div id="goodreads" class="section level2">
<h2><span class="header-section-number">4.2</span> Goodreads</h2>
<div id="star-ratings" class="section level3">
<h3><span class="header-section-number">4.2.1</span> Star Ratings</h3>
<p>The following histogram shows the overall distribution of star ratings. Reviews are overwhelmingly positive: there are move 5-star reviews than there are 1-, 2-, and 3-star reviews combined. This may make modeling more difficult, since there will be fewer low-star ratings to train our models.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="data-summary-eda-initial-model-attempts.html#cb11-1"></a>reviews_gr <span class="op">%&gt;%</span></span>
<span id="cb11-2"><a href="data-summary-eda-initial-model-attempts.html#cb11-2"></a><span class="st">  </span><span class="kw">ggplot</span>() <span class="op">+</span></span>
<span id="cb11-3"><a href="data-summary-eda-initial-model-attempts.html#cb11-3"></a><span class="st">  </span><span class="kw">geom_bar</span>(<span class="kw">aes</span>(<span class="dt">x=</span>rating_num)) <span class="op">+</span></span>
<span id="cb11-4"><a href="data-summary-eda-initial-model-attempts.html#cb11-4"></a><span class="st">  </span><span class="kw">theme_minimal</span>() <span class="op">+</span></span>
<span id="cb11-5"><a href="data-summary-eda-initial-model-attempts.html#cb11-5"></a><span class="st">  </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;Goodreads Ratings: Rating Count, Overall&quot;</span>,</span>
<span id="cb11-6"><a href="data-summary-eda-initial-model-attempts.html#cb11-6"></a>       <span class="dt">x=</span><span class="st">&quot;Star Rating&quot;</span>,</span>
<span id="cb11-7"><a href="data-summary-eda-initial-model-attempts.html#cb11-7"></a>       <span class="dt">y=</span><span class="ot">NULL</span>)</span></code></pre></div>
<p><img src="telfer-mba-nlp_files/figure-html/gr_overall_hist-1.png" width="672" /></p>
<p>The next histogram shows that the pattern is broadly consistent across genres. There are some minor differences: for example, graphic-novel and mystery reviews have nearly the same number of 4- and 5-star ratings, whereas nonfiction and romance novels show markedly more 5-star reviews than 4-star reviews. But for present purposes the overall pattern looks largely the same–for example, there are no U-shaped distributions, or exponential-type distributions with the opposite skew.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="data-summary-eda-initial-model-attempts.html#cb12-1"></a>reviews_gr <span class="op">%&gt;%</span></span>
<span id="cb12-2"><a href="data-summary-eda-initial-model-attempts.html#cb12-2"></a><span class="st">  </span><span class="kw">ggplot</span>() <span class="op">+</span></span>
<span id="cb12-3"><a href="data-summary-eda-initial-model-attempts.html#cb12-3"></a><span class="st">  </span><span class="kw">geom_bar</span>(<span class="kw">aes</span>(<span class="dt">x=</span>rating_num)) <span class="op">+</span></span>
<span id="cb12-4"><a href="data-summary-eda-initial-model-attempts.html#cb12-4"></a><span class="st">  </span><span class="kw">theme_minimal</span>() <span class="op">+</span></span>
<span id="cb12-5"><a href="data-summary-eda-initial-model-attempts.html#cb12-5"></a><span class="st">  </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;Goodreads Ratings: Rating Count by Genre&quot;</span>,</span>
<span id="cb12-6"><a href="data-summary-eda-initial-model-attempts.html#cb12-6"></a>       <span class="dt">x =</span> <span class="st">&quot;Star Rating&quot;</span>,</span>
<span id="cb12-7"><a href="data-summary-eda-initial-model-attempts.html#cb12-7"></a>       <span class="dt">y=</span><span class="ot">NULL</span>) <span class="op">+</span></span>
<span id="cb12-8"><a href="data-summary-eda-initial-model-attempts.html#cb12-8"></a><span class="st">  </span><span class="kw">facet_wrap</span>(<span class="dt">facets =</span> <span class="kw">vars</span>(genre))</span></code></pre></div>
<p><img src="telfer-mba-nlp_files/figure-html/gr_facet_hist-1.png" width="672" /></p>
<p>However, if we look at the level of individual books, the distributions look a bit more interesting. All the histograms are unimodal, but some of them peak at 3 or 4. (Poor Brian K. Vaughan.)</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="data-summary-eda-initial-model-attempts.html#cb13-1"></a>top_<span class="dv">6</span>_books &lt;-<span class="st"> </span>reviews_gr <span class="op">%&gt;%</span></span>
<span id="cb13-2"><a href="data-summary-eda-initial-model-attempts.html#cb13-2"></a><span class="st">  </span><span class="kw">group_by</span>(book_title) <span class="op">%&gt;%</span></span>
<span id="cb13-3"><a href="data-summary-eda-initial-model-attempts.html#cb13-3"></a><span class="st">  </span><span class="kw">summarise</span>(<span class="dt">n =</span> <span class="kw">n</span>()) <span class="op">%&gt;%</span></span>
<span id="cb13-4"><a href="data-summary-eda-initial-model-attempts.html#cb13-4"></a><span class="st">  </span><span class="kw">slice_max</span>(<span class="dt">n=</span><span class="dv">6</span>, <span class="dt">order_by=</span>n, <span class="dt">with_ties=</span><span class="ot">FALSE</span>) <span class="op">%&gt;%</span></span>
<span id="cb13-5"><a href="data-summary-eda-initial-model-attempts.html#cb13-5"></a><span class="st">  </span><span class="kw">pull</span>(book_title) </span></code></pre></div>
<pre><code>## `summarise()` ungrouping output (override with `.groups` argument)</code></pre>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="data-summary-eda-initial-model-attempts.html#cb15-1"></a>reviews_gr <span class="op">%&gt;%</span></span>
<span id="cb15-2"><a href="data-summary-eda-initial-model-attempts.html#cb15-2"></a><span class="st">  </span><span class="kw">filter</span>(book_title <span class="op">%in%</span><span class="st"> </span>top_<span class="dv">6</span>_books) <span class="op">%&gt;%</span></span>
<span id="cb15-3"><a href="data-summary-eda-initial-model-attempts.html#cb15-3"></a><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> rating_num)) <span class="op">+</span></span>
<span id="cb15-4"><a href="data-summary-eda-initial-model-attempts.html#cb15-4"></a><span class="st">  </span><span class="kw">geom_histogram</span>( <span class="dt">binwidth=</span><span class="dv">1</span>, <span class="dt">boundary=</span><span class="fl">0.5</span>, <span class="dt">bins=</span><span class="dv">5</span>) <span class="op">+</span></span>
<span id="cb15-5"><a href="data-summary-eda-initial-model-attempts.html#cb15-5"></a><span class="st">  </span><span class="kw">facet_wrap</span>(<span class="dt">facets =</span> <span class="kw">vars</span>(book_title)) <span class="op">+</span></span>
<span id="cb15-6"><a href="data-summary-eda-initial-model-attempts.html#cb15-6"></a><span class="st">  </span><span class="kw">theme_grey</span>() <span class="op">+</span></span>
<span id="cb15-7"><a href="data-summary-eda-initial-model-attempts.html#cb15-7"></a><span class="st">  </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;Star Ratings for 6 of the Most-Reviewed Books&quot;</span>,</span>
<span id="cb15-8"><a href="data-summary-eda-initial-model-attempts.html#cb15-8"></a>       <span class="dt">subtitle =</span> <span class="st">&quot;Sampled randomly from across all genres.&quot;</span>,</span>
<span id="cb15-9"><a href="data-summary-eda-initial-model-attempts.html#cb15-9"></a>       <span class="dt">x =</span> <span class="st">&quot;Star Rating&quot;</span>,</span>
<span id="cb15-10"><a href="data-summary-eda-initial-model-attempts.html#cb15-10"></a>       <span class="dt">y =</span> <span class="st">&quot;# of Ratings&quot;</span>)</span></code></pre></div>
<p><img src="telfer-mba-nlp_files/figure-html/gr_book_star_distributions-1.png" width="672" /></p>
</div>
<div id="word-count" class="section level3">
<h3><span class="header-section-number">4.2.2</span> Word Count</h3>
<p>Turning to word count, the following graph shows the cumulative density of word counts in our review dataset. In other words, as word count increases on the x-axis, the y-axis shows us how many reviews have <em>at most</em> that many words. I have counted words here using <code>unnest_tokens()</code> from the <code>tidytext</code> package (as per <a href="https://www.tidytextmining.com/tidytext.html">Tidy Text Mining</a>). There may be an easier way, but this worked!</p>
<p>We find that most reviews are very short: about 15,000 are below 500 words, and they go as short as one word. Some reviews are quite long, and one stretches out past 3,500 words.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="data-summary-eda-initial-model-attempts.html#cb16-1"></a>wordcounts_gr &lt;-<span class="st"> </span>reviews_gr <span class="op">%&gt;%</span></span>
<span id="cb16-2"><a href="data-summary-eda-initial-model-attempts.html#cb16-2"></a><span class="st">  </span><span class="kw">select</span>(comment) <span class="op">%&gt;%</span></span>
<span id="cb16-3"><a href="data-summary-eda-initial-model-attempts.html#cb16-3"></a><span class="st">  </span><span class="kw">rowid_to_column</span>() <span class="op">%&gt;%</span></span>
<span id="cb16-4"><a href="data-summary-eda-initial-model-attempts.html#cb16-4"></a><span class="st">  </span>tidytext<span class="op">::</span><span class="kw">unnest_tokens</span>(word, comment) <span class="op">%&gt;%</span></span>
<span id="cb16-5"><a href="data-summary-eda-initial-model-attempts.html#cb16-5"></a><span class="st">  </span><span class="kw">group_by</span>(rowid) <span class="op">%&gt;%</span></span>
<span id="cb16-6"><a href="data-summary-eda-initial-model-attempts.html#cb16-6"></a><span class="st">  </span><span class="kw">summarise</span>(<span class="dt">n =</span> <span class="kw">n</span>()) <span class="op">%&gt;%</span></span>
<span id="cb16-7"><a href="data-summary-eda-initial-model-attempts.html#cb16-7"></a><span class="st">  </span><span class="kw">arrange</span>(n)  <span class="op">%&gt;%</span></span>
<span id="cb16-8"><a href="data-summary-eda-initial-model-attempts.html#cb16-8"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">id =</span> <span class="dv">1</span>,</span>
<span id="cb16-9"><a href="data-summary-eda-initial-model-attempts.html#cb16-9"></a>         <span class="dt">cumdist =</span> <span class="kw">cumsum</span>(id)) </span>
<span id="cb16-10"><a href="data-summary-eda-initial-model-attempts.html#cb16-10"></a></span>
<span id="cb16-11"><a href="data-summary-eda-initial-model-attempts.html#cb16-11"></a>wordcounts_gr <span class="op">%&gt;%</span></span>
<span id="cb16-12"><a href="data-summary-eda-initial-model-attempts.html#cb16-12"></a><span class="st">  </span><span class="kw">ggplot</span>() <span class="op">+</span></span>
<span id="cb16-13"><a href="data-summary-eda-initial-model-attempts.html#cb16-13"></a><span class="st">  </span><span class="kw">geom_point</span>(<span class="kw">aes</span>(<span class="dt">y=</span>cumdist, <span class="dt">x=</span>n)) <span class="op">+</span></span>
<span id="cb16-14"><a href="data-summary-eda-initial-model-attempts.html#cb16-14"></a><span class="st">  </span><span class="kw">theme_minimal</span>() <span class="op">+</span></span>
<span id="cb16-15"><a href="data-summary-eda-initial-model-attempts.html#cb16-15"></a><span class="st">  </span><span class="kw">labs</span>(<span class="dt">title =</span><span class="st">&quot;Goodreads Reviews: Cumulative Distribution of Word-Lengths&quot;</span>,</span>
<span id="cb16-16"><a href="data-summary-eda-initial-model-attempts.html#cb16-16"></a>       <span class="dt">x =</span> <span class="st">&quot;Word Length&quot;</span>,</span>
<span id="cb16-17"><a href="data-summary-eda-initial-model-attempts.html#cb16-17"></a>       <span class="dt">y =</span> <span class="st">&quot;# of Reviews&quot;</span>)</span></code></pre></div>
<p><img src="telfer-mba-nlp_files/figure-html/wordcounts_goodreads-1.png" width="672" /></p>
<p>This distribution may also make our modeling task more difficult. With so many short reviews it’s unlikely that they will have many words in common, and so a lasso regression at the word level may not work very well.</p>
<p>However, short reviews may still be useful for sentiment analysis. The following table shows the five shortest reviews, since I wanted to check and make sure it wasn’t a data error. One reviewer left a single word: “SUCKS.” Concise and informative.</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="data-summary-eda-initial-model-attempts.html#cb17-1"></a>wordcounts_gr <span class="op">%&gt;%</span></span>
<span id="cb17-2"><a href="data-summary-eda-initial-model-attempts.html#cb17-2"></a><span class="st">  </span><span class="kw">arrange</span>(n) <span class="op">%&gt;%</span></span>
<span id="cb17-3"><a href="data-summary-eda-initial-model-attempts.html#cb17-3"></a><span class="st">  </span><span class="kw">head</span>(<span class="dv">5</span>) <span class="op">%&gt;%</span></span>
<span id="cb17-4"><a href="data-summary-eda-initial-model-attempts.html#cb17-4"></a><span class="st">  </span><span class="kw">pull</span>(rowid) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb17-5"><a href="data-summary-eda-initial-model-attempts.html#cb17-5"></a><span class="st">  </span><span class="kw">slice</span>(reviews_gr, .)  <span class="op">%&gt;%</span></span>
<span id="cb17-6"><a href="data-summary-eda-initial-model-attempts.html#cb17-6"></a><span class="st">  </span><span class="kw">select</span>(book_title,author_name, rating_num, comment) <span class="op">%&gt;%</span></span>
<span id="cb17-7"><a href="data-summary-eda-initial-model-attempts.html#cb17-7"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="kw">across</span>(<span class="kw">where</span>(is.character), str_trunc, <span class="dt">width=</span><span class="dv">40</span>)) <span class="op">%&gt;%</span></span>
<span id="cb17-8"><a href="data-summary-eda-initial-model-attempts.html#cb17-8"></a><span class="st">  </span>knitr<span class="op">::</span><span class="kw">kable</span>(<span class="dt">booktabs =</span> T,</span>
<span id="cb17-9"><a href="data-summary-eda-initial-model-attempts.html#cb17-9"></a>        <span class="dt">col.names =</span> <span class="kw">c</span>(<span class="st">&quot;Book Title&quot;</span>, <span class="st">&quot;Book Author&quot;</span>, <span class="st">&quot;Stars&quot;</span>, <span class="st">&quot;Review&quot;</span>),</span>
<span id="cb17-10"><a href="data-summary-eda-initial-model-attempts.html#cb17-10"></a>        <span class="dt">align =</span> <span class="kw">c</span>(<span class="st">&quot;l&quot;</span>,<span class="st">&quot;l&quot;</span>,<span class="st">&quot;c&quot;</span>,<span class="st">&quot;l&quot;</span>)) </span></code></pre></div>
<table>
<thead>
<tr>
<th style="text-align:left;">
Book Title
</th>
<th style="text-align:left;">
Book Author
</th>
<th style="text-align:center;">
Stars
</th>
<th style="text-align:left;">
Review
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
The Alchemist
</td>
<td style="text-align:left;">
Paulo Coelho
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:left;">
SUCKS.
</td>
</tr>
<tr>
<td style="text-align:left;">
The Mysterious Affair at Styles
</td>
<td style="text-align:left;">
Agatha Christie
</td>
<td style="text-align:center;">
5
</td>
<td style="text-align:left;">
Classic
</td>
</tr>
<tr>
<td style="text-align:left;">
Siddhartha
</td>
<td style="text-align:left;">
Hermann Hesse
</td>
<td style="text-align:center;">
2
</td>
<td style="text-align:left;">
Eh.
</td>
</tr>
<tr>
<td style="text-align:left;">
Treasure Island
</td>
<td style="text-align:left;">
Robert Louis Stevenson
</td>
<td style="text-align:center;">
5
</td>
<td style="text-align:left;">
ARRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRR…
</td>
</tr>
<tr>
<td style="text-align:left;">
Logan Likes Mary Anne!
</td>
<td style="text-align:left;">
Gale Galligan
</td>
<td style="text-align:center;">
4
</td>
<td style="text-align:left;">
cool
</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="data-summary-eda-initial-model-attempts.html#cb18-1"></a><span class="co"># </span></span>
<span id="cb18-2"><a href="data-summary-eda-initial-model-attempts.html#cb18-2"></a><span class="co"># %&gt;%</span></span>
<span id="cb18-3"><a href="data-summary-eda-initial-model-attempts.html#cb18-3"></a><span class="co">#   kableExtra::column_spec(column = 1:4,</span></span>
<span id="cb18-4"><a href="data-summary-eda-initial-model-attempts.html#cb18-4"></a><span class="co">#                           width = c(&quot;15cm&quot;,&quot;10cm&quot;,&quot;3cm&quot;,&quot;10cm&quot;)) %&gt;%</span></span>
<span id="cb18-5"><a href="data-summary-eda-initial-model-attempts.html#cb18-5"></a><span class="co">#   kableExtra::kable_styling(bootstrap_options = &quot;striped&quot;)</span></span></code></pre></div>
</div>
<div id="reviewers" class="section level3">
<h3><span class="header-section-number">4.2.3</span> Reviewers</h3>
<p>The following histogram shows that while most Goodreads users posted only a handful of reviews in our dataset, some posted over 50.</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="data-summary-eda-initial-model-attempts.html#cb19-1"></a>reviewers_gr &lt;-<span class="st"> </span>reviews_gr <span class="op">%&gt;%</span></span>
<span id="cb19-2"><a href="data-summary-eda-initial-model-attempts.html#cb19-2"></a><span class="st">  </span><span class="kw">group_by</span>(names) <span class="op">%&gt;%</span></span>
<span id="cb19-3"><a href="data-summary-eda-initial-model-attempts.html#cb19-3"></a><span class="st">  </span><span class="kw">summarise</span>(<span class="dt">n =</span> <span class="kw">n</span>()) <span class="op">%&gt;%</span></span>
<span id="cb19-4"><a href="data-summary-eda-initial-model-attempts.html#cb19-4"></a><span class="st">  </span><span class="kw">arrange</span>(<span class="kw">desc</span>(n))</span></code></pre></div>
<pre><code>## `summarise()` ungrouping output (override with `.groups` argument)</code></pre>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="data-summary-eda-initial-model-attempts.html#cb21-1"></a>reviewers_gr <span class="op">%&gt;%</span></span>
<span id="cb21-2"><a href="data-summary-eda-initial-model-attempts.html#cb21-2"></a><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x=</span>n)) <span class="op">+</span></span>
<span id="cb21-3"><a href="data-summary-eda-initial-model-attempts.html#cb21-3"></a><span class="st">  </span><span class="kw">geom_histogram</span>() <span class="op">+</span></span>
<span id="cb21-4"><a href="data-summary-eda-initial-model-attempts.html#cb21-4"></a><span class="st">  </span><span class="kw">theme_minimal</span>() <span class="op">+</span></span>
<span id="cb21-5"><a href="data-summary-eda-initial-model-attempts.html#cb21-5"></a><span class="st">  </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;Goodreads: Distribution of Reviews per User&quot;</span>,</span>
<span id="cb21-6"><a href="data-summary-eda-initial-model-attempts.html#cb21-6"></a>       <span class="dt">x =</span> <span class="st">&quot;# of Reviews&quot;</span>,</span>
<span id="cb21-7"><a href="data-summary-eda-initial-model-attempts.html#cb21-7"></a>       <span class="dt">y =</span> <span class="st">&quot;# of Users&quot;</span>) </span></code></pre></div>
<pre><code>## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<p><img src="telfer-mba-nlp_files/figure-html/gr_reviewers_histogram-1.png" width="672" /></p>
<p>Looking at the following table, we can see that the top 10 reviewers all posted over 50 reviews, and one posted 95.</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="data-summary-eda-initial-model-attempts.html#cb23-1"></a>reviewers_gr <span class="op">%&gt;%</span></span>
<span id="cb23-2"><a href="data-summary-eda-initial-model-attempts.html#cb23-2"></a><span class="st">  </span><span class="kw">top_n</span>(<span class="dv">10</span>, <span class="dt">wt =</span> n)</span></code></pre></div>
<pre><code>## # A tibble: 11 x 2
##    names                                 n
##    &lt;chr&gt;                             &lt;int&gt;
##  1 Ahmad Sharabiani                     95
##  2 Lisa                                 89
##  3 Matthew                              63
##  4 jessica                              61
##  5 Sean Barrs                           59
##  6 Emily May                            56
##  7 Michelle                             53
##  8 Jennifer                             52
##  9 Elyse  Walters                       51
## 10 Melissa &lt;U+2665&gt; Dog/Wolf Lover &lt;U+2665&gt; Martin    50
## 11 Nilufer Ozmekik                      50</code></pre>
<p>Out of curiosity (and as a check on our data quality), let’s investigate the 95 reviews from our top poster, Ahmad Sharabiani:</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="data-summary-eda-initial-model-attempts.html#cb25-1"></a>reviews_gr <span class="op">%&gt;%</span></span>
<span id="cb25-2"><a href="data-summary-eda-initial-model-attempts.html#cb25-2"></a><span class="st">  </span><span class="kw">filter</span>(names <span class="op">==</span><span class="st"> &quot;Ahmad Sharabiani&quot;</span>) <span class="op">%&gt;%</span></span>
<span id="cb25-3"><a href="data-summary-eda-initial-model-attempts.html#cb25-3"></a><span class="st">  </span><span class="kw">select</span>(book_title, author_name, rating_num, comment) <span class="op">%&gt;%</span></span>
<span id="cb25-4"><a href="data-summary-eda-initial-model-attempts.html#cb25-4"></a><span class="st">  </span><span class="kw">mutate</span> (<span class="dt">comment =</span> <span class="kw">str_trunc</span>(comment, <span class="dv">80</span>)) <span class="op">%&gt;%</span></span>
<span id="cb25-5"><a href="data-summary-eda-initial-model-attempts.html#cb25-5"></a><span class="st">  </span><span class="kw">arrange</span>(<span class="kw">desc</span>(author_name)) <span class="op">%&gt;%</span></span>
<span id="cb25-6"><a href="data-summary-eda-initial-model-attempts.html#cb25-6"></a><span class="st">  </span><span class="kw">slice_head</span>(<span class="dt">n=</span><span class="dv">10</span>) <span class="op">%&gt;%</span></span>
<span id="cb25-7"><a href="data-summary-eda-initial-model-attempts.html#cb25-7"></a><span class="st">  </span>knitr<span class="op">::</span><span class="kw">kable</span>(<span class="dt">col.names =</span> <span class="kw">c</span>(<span class="st">&quot;Book Title&quot;</span>, <span class="st">&quot;Book Author&quot;</span>, <span class="st">&quot;Stars&quot;</span>, <span class="st">&quot;Review&quot;</span>),</span>
<span id="cb25-8"><a href="data-summary-eda-initial-model-attempts.html#cb25-8"></a>               <span class="dt">align =</span> <span class="kw">c</span>(<span class="st">&quot;l&quot;</span>,<span class="st">&quot;l&quot;</span>,<span class="st">&quot;c&quot;</span>,<span class="st">&quot;l&quot;</span>))</span></code></pre></div>
<table>
<thead>
<tr>
<th style="text-align:left;">
Book Title
</th>
<th style="text-align:left;">
Book Author
</th>
<th style="text-align:center;">
Stars
</th>
<th style="text-align:left;">
Review
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Romeo and Juliet
</td>
<td style="text-align:left;">
William Shakespeare
</td>
<td style="text-align:center;">
5
</td>
<td style="text-align:left;">
Romeo and Juliet = The Tragedy of Romeo and Juliet, William ShakespeareRomeo …
</td>
</tr>
<tr>
<td style="text-align:left;">
Othello
</td>
<td style="text-align:left;">
William Shakespeare
</td>
<td style="text-align:center;">
4
</td>
<td style="text-align:left;">
Othello = The Tragedy of Othello, William ShakespeareOthello (The Tragedy of …
</td>
</tr>
<tr>
<td style="text-align:left;">
Othello
</td>
<td style="text-align:left;">
William Shakespeare
</td>
<td style="text-align:center;">
5
</td>
<td style="text-align:left;">
The Tragedy of Othello, The Moor of Venice, William ShakespeareOthello is a t…
</td>
</tr>
<tr>
<td style="text-align:left;">
Lord of the Flies
</td>
<td style="text-align:left;">
William Golding
</td>
<td style="text-align:center;">
4
</td>
<td style="text-align:left;">
<ol start="508" style="list-style-type: decimal">
<li>Lord of the flies, William GoldingLord of the Flies is a 1954 novel by N…
</td>
</tr>
<tr>
<td style="text-align:left;">
A Room of One’s Own
</td>
<td style="text-align:left;">
Virginia Woolf
</td>
<td style="text-align:center;">
4
</td>
<td style="text-align:left;">
A Room of One’s Own, Virginia WoolfA Room of One’s Own is an extended essay b…
</td>
</tr>
<tr>
<td style="text-align:left;">
Beowulf
</td>
<td style="text-align:left;">
Unknown
</td>
<td style="text-align:center;">
5
</td>
<td style="text-align:left;">
Beowulf, Anonymous Anglo-Saxon poetBeowulf is an Old English epic poem consis…
</td>
</tr>
<tr>
<td style="text-align:left;">
In Cold Blood
</td>
<td style="text-align:left;">
Truman Capote
</td>
<td style="text-align:center;">
4
</td>
<td style="text-align:left;">
In Cold Blood, Truman CapoteThis article is about the book by Truman Capote. …
</td>
</tr>
<tr>
<td style="text-align:left;">
The Bluest Eye
</td>
<td style="text-align:left;">
Toni Morrison
</td>
<td style="text-align:center;">
4
</td>
<td style="text-align:left;">
<ol start="365" style="list-style-type: decimal">
<li>The Bluest Eye, Toni MorrisonThe Bluest Eye is a novel written by Toni M…
</td>
</tr>
<tr>
<td style="text-align:left;">
The Bell Jar
</td>
<td style="text-align:left;">
Sylvia Plath
</td>
<td style="text-align:center;">
4
</td>
<td style="text-align:left;">
<ol start="433" style="list-style-type: decimal">
<li>Victoria Lucas = The Bell Jar, Sylvia PlathThe Bell Jar is the only nove…
</td>
</tr>
<tr>
<td style="text-align:left;">
The Shining
</td>
<td style="text-align:left;">
Stephen King
</td>
<td style="text-align:center;">
4
</td>
<td style="text-align:left;">
The Shining (The Shining #1), Stephen KingThe Shining is a horror novel by Am…
</td>
</tr>
</tbody>
</table></li>
</ol></li>
</ol></li>
</ol>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="data-summary-eda-initial-model-attempts.html#cb26-1"></a><span class="co"># </span></span>
<span id="cb26-2"><a href="data-summary-eda-initial-model-attempts.html#cb26-2"></a><span class="co"># %&gt;%</span></span>
<span id="cb26-3"><a href="data-summary-eda-initial-model-attempts.html#cb26-3"></a><span class="co">#   kableExtra::kable_styling(bootstrap_options = &quot;striped&quot;)</span></span></code></pre></div>
<p>Something looks a bit suspicious here. First, many books have more than one review (for example, <em>Othello</em> has 2 and <em>The Catcher in the Rye</em> has 3). Second, the reviews all seem to begin with the title of the book and a factual summary without much personality.</p>
<p>If we do a Google search for the opening text of Ahmad’s review for <em>Farenheit 451</em>, “Fahrenheit 451 is a dystopian novel by American”, we find that exact text in <a href="https://en.wikipedia.org/wiki/Fahrenheit_451">the first line of the book’s Wikipedia page</a>. Google also suggests we look at <em>Farenheit 451</em>’s <a href="https://www.goodreads.com/book/show/13079982-fahrenheit-451">Goodreads page</a>, which includes Ahmad’s review.</p>
<p>If we look at Ahmad’s review more closely, we see that it includes an English-language summary and then a lot of text in a non-Latin alphabet.</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="data-summary-eda-initial-model-attempts.html#cb27-1"></a>reviews_gr <span class="op">%&gt;%</span></span>
<span id="cb27-2"><a href="data-summary-eda-initial-model-attempts.html#cb27-2"></a><span class="st">  </span><span class="kw">filter</span>(names <span class="op">==</span><span class="st"> &quot;Ahmad Sharabiani&quot;</span> <span class="op">&amp;</span><span class="st"> </span>book_title <span class="op">==</span><span class="st"> &quot;Fahrenheit 451&quot;</span>) <span class="op">%&gt;%</span></span>
<span id="cb27-3"><a href="data-summary-eda-initial-model-attempts.html#cb27-3"></a><span class="st">  </span><span class="kw">pull</span>(comment) <span class="op">%&gt;%</span></span>
<span id="cb27-4"><a href="data-summary-eda-initial-model-attempts.html#cb27-4"></a><span class="st">  </span><span class="kw">str_trunc</span>(<span class="dv">700</span>)</span></code></pre></div>
<pre><code>## [1] &quot;Fahrenheit 451, Ray BradburyFahrenheit 451 is a dystopian novel by American writer Ray Bradbury, published in 1953. Fahrenheit 451 is set in an unspecified city at an unspecified time in the future after the year 1960.Guy Montag is a \&quot;fireman\&quot; employed to burn houses containing outlawed books. He is married but has no children. One fall night while returning from work, he meets his new neighbor, a teenage girl named Clarisse McClellan, whose free-thinking ideals and liberating spirit cause him to question his life and his own perceived happiness. Montag returns home to find that his wife Mildred has overdosed on sleeping pills, and he calls for medical attention. ...&lt;U+062A&gt;&lt;U+0627&gt;&lt;U+0631&gt;&lt;U+06CC&gt;&lt;U+062E&gt; &lt;U+0646&gt;&lt;U+062E&gt;&lt;U+0633&gt;&lt;U+062A&gt;&lt;U+06CC&gt;&lt;U+0646&gt; &lt;U+062E&gt;&lt;U+0648&gt;&lt;U+0627&gt;&lt;U+0646&gt;&lt;U+0634&gt;: &lt;U+0631&gt;&lt;U+0648&gt;...&quot;</code></pre>
<p>Google Translate tells me the language is Persian, and the translated text includes a brief note–“Date of first reading: The third day of February 1984”–and then <em>another</em> summary of the book written in Persian. The text does not seem to have any actual review or opinion in it.</p>
<p>I’m not sure what’s going on here, but we have learned that:
* Some users post a large number of reviews;
* Some users post useless/non-review reviews, e.g. copy/pasting text from Wikipedia; and,
* At least one super-poster posts such reviews.</p>
<p>This bears looking into more, since reviews that are copy/pasted from Wikipedia are unlikely to have any predictive value at all and may need to be identified and filtered out in pre-processing. These users may even be bots, especially given the short timeframe for the Goodreads dataset (see below).</p>
</div>
</div>
<div id="yelp" class="section level2">
<h2><span class="header-section-number">4.3</span> Yelp</h2>
<div id="star-ratings-1" class="section level3">
<h3><span class="header-section-number">4.3.1</span> Star Ratings</h3>
<p>Repeating the process for Yelp, this histogram shows the distribution of star ratings. Reviews are again very positive and show a similar distribution.</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb29-1"><a href="data-summary-eda-initial-model-attempts.html#cb29-1"></a>reviews_yelp <span class="op">%&gt;%</span></span>
<span id="cb29-2"><a href="data-summary-eda-initial-model-attempts.html#cb29-2"></a><span class="st">  </span><span class="kw">ggplot</span>() <span class="op">+</span></span>
<span id="cb29-3"><a href="data-summary-eda-initial-model-attempts.html#cb29-3"></a><span class="st">  </span><span class="kw">geom_bar</span>(<span class="kw">aes</span>(<span class="dt">x=</span>rating_num)) <span class="op">+</span></span>
<span id="cb29-4"><a href="data-summary-eda-initial-model-attempts.html#cb29-4"></a><span class="st">  </span><span class="kw">theme_minimal</span>() <span class="op">+</span></span>
<span id="cb29-5"><a href="data-summary-eda-initial-model-attempts.html#cb29-5"></a><span class="st">  </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;Yelp Ratings by Star&quot;</span>,</span>
<span id="cb29-6"><a href="data-summary-eda-initial-model-attempts.html#cb29-6"></a>       <span class="dt">x=</span><span class="st">&quot;Star Rating&quot;</span>,</span>
<span id="cb29-7"><a href="data-summary-eda-initial-model-attempts.html#cb29-7"></a>       <span class="dt">y=</span><span class="ot">NULL</span>)</span></code></pre></div>
<p><img src="telfer-mba-nlp_files/figure-html/yp_overall_hist-1.png" width="672" /></p>
<p>The Yelp data didn’t include restaurant type, so we can’t do a genre-specific investigation as we did for Goodreads.</p>
<p>However, we can repeat the analysis where we look at star distributions for the top 6 businesses. Overall the distributions look the same, but here, finally, we get the first hint of bimodality in our distributions. Two restaurants, Sansotei Ramen and Shawarma Palace, have <em>slight</em> second peaks at 1 star. However, the overall story is the same and this could arguably be random fluctuations.</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb30-1"><a href="data-summary-eda-initial-model-attempts.html#cb30-1"></a>top_<span class="dv">6</span>_restos &lt;-<span class="st"> </span>reviews_yelp <span class="op">%&gt;%</span></span>
<span id="cb30-2"><a href="data-summary-eda-initial-model-attempts.html#cb30-2"></a><span class="st">  </span><span class="kw">group_by</span>(business) <span class="op">%&gt;%</span></span>
<span id="cb30-3"><a href="data-summary-eda-initial-model-attempts.html#cb30-3"></a><span class="st">  </span><span class="kw">summarise</span>(<span class="dt">n =</span> <span class="kw">n</span>()) <span class="op">%&gt;%</span></span>
<span id="cb30-4"><a href="data-summary-eda-initial-model-attempts.html#cb30-4"></a><span class="st">  </span><span class="kw">slice_max</span>(<span class="dt">n=</span><span class="dv">6</span>, <span class="dt">order_by=</span>n, <span class="dt">with_ties=</span><span class="ot">FALSE</span>) <span class="op">%&gt;%</span></span>
<span id="cb30-5"><a href="data-summary-eda-initial-model-attempts.html#cb30-5"></a><span class="st">  </span><span class="kw">pull</span>(business) </span></code></pre></div>
<pre><code>## `summarise()` ungrouping output (override with `.groups` argument)</code></pre>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb32-1"><a href="data-summary-eda-initial-model-attempts.html#cb32-1"></a>reviews_yelp <span class="op">%&gt;%</span></span>
<span id="cb32-2"><a href="data-summary-eda-initial-model-attempts.html#cb32-2"></a><span class="st">  </span><span class="kw">filter</span>(business <span class="op">%in%</span><span class="st"> </span>top_<span class="dv">6</span>_restos) <span class="op">%&gt;%</span></span>
<span id="cb32-3"><a href="data-summary-eda-initial-model-attempts.html#cb32-3"></a><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> rating_num)) <span class="op">+</span></span>
<span id="cb32-4"><a href="data-summary-eda-initial-model-attempts.html#cb32-4"></a><span class="st">  </span><span class="kw">geom_histogram</span>( <span class="dt">binwidth=</span><span class="dv">1</span>, <span class="dt">boundary=</span><span class="fl">0.5</span>, <span class="dt">bins=</span><span class="dv">5</span>) <span class="op">+</span></span>
<span id="cb32-5"><a href="data-summary-eda-initial-model-attempts.html#cb32-5"></a><span class="st">  </span><span class="kw">facet_wrap</span>(<span class="dt">facets =</span> <span class="kw">vars</span>(business)) <span class="op">+</span></span>
<span id="cb32-6"><a href="data-summary-eda-initial-model-attempts.html#cb32-6"></a><span class="st">  </span><span class="kw">theme_grey</span>() <span class="op">+</span></span>
<span id="cb32-7"><a href="data-summary-eda-initial-model-attempts.html#cb32-7"></a><span class="st">  </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;Star Ratings for 6 of the Most-Reviewed Restaurants&quot;</span>,</span>
<span id="cb32-8"><a href="data-summary-eda-initial-model-attempts.html#cb32-8"></a>       <span class="dt">x =</span> <span class="st">&quot;Star Rating&quot;</span>,</span>
<span id="cb32-9"><a href="data-summary-eda-initial-model-attempts.html#cb32-9"></a>       <span class="dt">y =</span> <span class="st">&quot;# of Ratings&quot;</span>)</span></code></pre></div>
<p><img src="telfer-mba-nlp_files/figure-html/yp_restaurant_star_distributions-1.png" width="672" /></p>
</div>
<div id="word-count-1" class="section level3">
<h3><span class="header-section-number">4.3.2</span> Word Count</h3>
<p>As with the Goodreads data, most Yelp reviews are very short.</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb33-1"><a href="data-summary-eda-initial-model-attempts.html#cb33-1"></a>wordcounts_yelp &lt;-<span class="st"> </span>reviews_yelp <span class="op">%&gt;%</span></span>
<span id="cb33-2"><a href="data-summary-eda-initial-model-attempts.html#cb33-2"></a><span class="st">  </span><span class="kw">select</span>(comment) <span class="op">%&gt;%</span></span>
<span id="cb33-3"><a href="data-summary-eda-initial-model-attempts.html#cb33-3"></a><span class="st">  </span><span class="kw">rowid_to_column</span>() <span class="op">%&gt;%</span></span>
<span id="cb33-4"><a href="data-summary-eda-initial-model-attempts.html#cb33-4"></a><span class="st">  </span>tidytext<span class="op">::</span><span class="kw">unnest_tokens</span>(word, comment) <span class="op">%&gt;%</span></span>
<span id="cb33-5"><a href="data-summary-eda-initial-model-attempts.html#cb33-5"></a><span class="st">  </span><span class="kw">group_by</span>(rowid) <span class="op">%&gt;%</span></span>
<span id="cb33-6"><a href="data-summary-eda-initial-model-attempts.html#cb33-6"></a><span class="st">  </span><span class="kw">summarise</span>(<span class="dt">n =</span> <span class="kw">n</span>()) <span class="op">%&gt;%</span></span>
<span id="cb33-7"><a href="data-summary-eda-initial-model-attempts.html#cb33-7"></a><span class="st">  </span><span class="kw">arrange</span>(n) <span class="op">%&gt;%</span></span>
<span id="cb33-8"><a href="data-summary-eda-initial-model-attempts.html#cb33-8"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">id =</span> <span class="dv">1</span>,</span>
<span id="cb33-9"><a href="data-summary-eda-initial-model-attempts.html#cb33-9"></a>         <span class="dt">cumdist =</span> <span class="kw">cumsum</span>(id)) </span>
<span id="cb33-10"><a href="data-summary-eda-initial-model-attempts.html#cb33-10"></a></span>
<span id="cb33-11"><a href="data-summary-eda-initial-model-attempts.html#cb33-11"></a>wordcounts_yelp <span class="op">%&gt;%</span></span>
<span id="cb33-12"><a href="data-summary-eda-initial-model-attempts.html#cb33-12"></a><span class="st">  </span><span class="kw">ggplot</span>() <span class="op">+</span></span>
<span id="cb33-13"><a href="data-summary-eda-initial-model-attempts.html#cb33-13"></a><span class="st">  </span><span class="kw">geom_point</span>(<span class="kw">aes</span>(<span class="dt">y=</span>cumdist, <span class="dt">x=</span>n)) <span class="op">+</span></span>
<span id="cb33-14"><a href="data-summary-eda-initial-model-attempts.html#cb33-14"></a><span class="st">  </span><span class="kw">theme_minimal</span>() <span class="op">+</span></span>
<span id="cb33-15"><a href="data-summary-eda-initial-model-attempts.html#cb33-15"></a><span class="st">  </span><span class="kw">labs</span>(<span class="dt">title =</span><span class="st">&quot;Yelp Reviews: Cumulative Distribution of Word-Lengths&quot;</span>,</span>
<span id="cb33-16"><a href="data-summary-eda-initial-model-attempts.html#cb33-16"></a>       <span class="dt">x =</span> <span class="st">&quot;Word Length&quot;</span>,</span>
<span id="cb33-17"><a href="data-summary-eda-initial-model-attempts.html#cb33-17"></a>       <span class="dt">y =</span> <span class="st">&quot;# of Reviews&quot;</span>)</span></code></pre></div>
<p><img src="telfer-mba-nlp_files/figure-html/wordcounts_yelp-1.png" width="672" /></p>
<p>And again, let’s review the five shortest Yelp reviews in the table below. They seem to be genuine good-faith reviews that include helpful words, and so may be workable for our models.</p>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb34-1"><a href="data-summary-eda-initial-model-attempts.html#cb34-1"></a>wordcounts_yelp <span class="op">%&gt;%</span></span>
<span id="cb34-2"><a href="data-summary-eda-initial-model-attempts.html#cb34-2"></a><span class="st">  </span><span class="kw">arrange</span>(n) <span class="op">%&gt;%</span></span>
<span id="cb34-3"><a href="data-summary-eda-initial-model-attempts.html#cb34-3"></a><span class="st">  </span><span class="kw">head</span>(<span class="dv">5</span>) <span class="op">%&gt;%</span></span>
<span id="cb34-4"><a href="data-summary-eda-initial-model-attempts.html#cb34-4"></a><span class="st">  </span><span class="kw">pull</span>(rowid) <span class="op">%&gt;%</span></span>
<span id="cb34-5"><a href="data-summary-eda-initial-model-attempts.html#cb34-5"></a><span class="st">  </span><span class="kw">slice</span>(reviews_yelp, .) <span class="op">%&gt;%</span></span>
<span id="cb34-6"><a href="data-summary-eda-initial-model-attempts.html#cb34-6"></a><span class="st">  </span><span class="kw">select</span>(business,rating_num,comment) <span class="op">%&gt;%</span></span>
<span id="cb34-7"><a href="data-summary-eda-initial-model-attempts.html#cb34-7"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="kw">across</span>(<span class="kw">where</span>(is.character), str_trunc, <span class="dt">width=</span><span class="dv">40</span>)) <span class="op">%&gt;%</span></span>
<span id="cb34-8"><a href="data-summary-eda-initial-model-attempts.html#cb34-8"></a><span class="st">  </span>knitr<span class="op">::</span><span class="kw">kable</span>(<span class="dt">booktabs =</span> T,</span>
<span id="cb34-9"><a href="data-summary-eda-initial-model-attempts.html#cb34-9"></a>        <span class="dt">col.names =</span> <span class="kw">c</span>(<span class="st">&quot;Business&quot;</span>, <span class="st">&quot;Stars&quot;</span>, <span class="st">&quot;Review&quot;</span>),</span>
<span id="cb34-10"><a href="data-summary-eda-initial-model-attempts.html#cb34-10"></a>        <span class="dt">align =</span> <span class="kw">c</span>(<span class="st">&quot;l&quot;</span>,<span class="st">&quot;c&quot;</span>,<span class="st">&quot;l&quot;</span>)) </span></code></pre></div>
<table>
<thead>
<tr>
<th style="text-align:left;">
Business
</th>
<th style="text-align:center;">
Stars
</th>
<th style="text-align:left;">
Review
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Kallisto Greek Restaurant
</td>
<td style="text-align:center;">
4
</td>
<td style="text-align:left;">
Great takeout, service, ambiance and …
</td>
</tr>
<tr>
<td style="text-align:left;">
Bite Burger House
</td>
<td style="text-align:center;">
4
</td>
<td style="text-align:left;">
Delicious, juicy, interesting burgers…
</td>
</tr>
<tr>
<td style="text-align:left;">
BeaverTails
</td>
<td style="text-align:center;">
4
</td>
<td style="text-align:left;">
BeaverTails pastry..no words needed…..
</td>
</tr>
<tr>
<td style="text-align:left;">
Saigon Boy Noodle House
</td>
<td style="text-align:center;">
3
</td>
<td style="text-align:left;">
Very decent pho shop, well priced.
</td>
</tr>
<tr>
<td style="text-align:left;">
Supreme Kabob House
</td>
<td style="text-align:center;">
5
</td>
<td style="text-align:left;">
Excellent Afghani Food and Good Space
</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb35-1"><a href="data-summary-eda-initial-model-attempts.html#cb35-1"></a><span class="co"># %&gt;%</span></span>
<span id="cb35-2"><a href="data-summary-eda-initial-model-attempts.html#cb35-2"></a><span class="co">#   kableExtra::column_spec(column = 1:3,</span></span>
<span id="cb35-3"><a href="data-summary-eda-initial-model-attempts.html#cb35-3"></a><span class="co">#                           width = c(&quot;5cm&quot;,&quot;3cm&quot;,&quot;10cm&quot;)) %&gt;%</span></span>
<span id="cb35-4"><a href="data-summary-eda-initial-model-attempts.html#cb35-4"></a><span class="co">#   kableExtra::kable_styling()%&gt;%</span></span>
<span id="cb35-5"><a href="data-summary-eda-initial-model-attempts.html#cb35-5"></a><span class="co">#   kableExtra::kable_styling(bootstrap_options = &quot;striped&quot;)</span></span></code></pre></div>
</div>
<div id="reviewers-1" class="section level3">
<h3><span class="header-section-number">4.3.3</span> Reviewers</h3>
<p>The following histogram shows how many reviews were posted be users. Its distribution is similar to the one we found for Goodreads: most users posted only a few times, but some posted over 50.</p>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb36-1"><a href="data-summary-eda-initial-model-attempts.html#cb36-1"></a>reviewers_yelp &lt;-<span class="st"> </span>reviews_yelp <span class="op">%&gt;%</span></span>
<span id="cb36-2"><a href="data-summary-eda-initial-model-attempts.html#cb36-2"></a><span class="st">  </span><span class="kw">group_by</span>(name) <span class="op">%&gt;%</span></span>
<span id="cb36-3"><a href="data-summary-eda-initial-model-attempts.html#cb36-3"></a><span class="st">  </span><span class="kw">summarise</span>(<span class="dt">n =</span> <span class="kw">n</span>()) <span class="op">%&gt;%</span></span>
<span id="cb36-4"><a href="data-summary-eda-initial-model-attempts.html#cb36-4"></a><span class="st">  </span><span class="kw">arrange</span>(<span class="kw">desc</span>(n))</span></code></pre></div>
<pre><code>## `summarise()` ungrouping output (override with `.groups` argument)</code></pre>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb38-1"><a href="data-summary-eda-initial-model-attempts.html#cb38-1"></a>reviewers_yelp <span class="op">%&gt;%</span></span>
<span id="cb38-2"><a href="data-summary-eda-initial-model-attempts.html#cb38-2"></a><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x=</span>n)) <span class="op">+</span></span>
<span id="cb38-3"><a href="data-summary-eda-initial-model-attempts.html#cb38-3"></a><span class="st">  </span><span class="kw">geom_histogram</span>() <span class="op">+</span></span>
<span id="cb38-4"><a href="data-summary-eda-initial-model-attempts.html#cb38-4"></a><span class="st">  </span><span class="kw">theme_minimal</span>() <span class="op">+</span></span>
<span id="cb38-5"><a href="data-summary-eda-initial-model-attempts.html#cb38-5"></a><span class="st">  </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;Yelp: Distribution of Reviews per User&quot;</span>,</span>
<span id="cb38-6"><a href="data-summary-eda-initial-model-attempts.html#cb38-6"></a>       <span class="dt">x =</span> <span class="st">&quot;# of Reviews&quot;</span>,</span>
<span id="cb38-7"><a href="data-summary-eda-initial-model-attempts.html#cb38-7"></a>       <span class="dt">y =</span> <span class="st">&quot;# of Users&quot;</span>) </span></code></pre></div>
<pre><code>## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<p><img src="telfer-mba-nlp_files/figure-html/yp_reviewers_histogram-1.png" width="672" /></p>
<p>Looking at our top-10 Yelp reviewers, the drop-off is quite a bit sharper than it was for Goodreads.</p>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb40-1"><a href="data-summary-eda-initial-model-attempts.html#cb40-1"></a>reviewers_yelp <span class="op">%&gt;%</span></span>
<span id="cb40-2"><a href="data-summary-eda-initial-model-attempts.html#cb40-2"></a><span class="st">  </span><span class="kw">top_n</span>(<span class="dv">10</span>, <span class="dt">wt =</span> n) <span class="op">%&gt;%</span></span>
<span id="cb40-3"><a href="data-summary-eda-initial-model-attempts.html#cb40-3"></a><span class="st">  </span>knitr<span class="op">::</span><span class="kw">kable</span>(<span class="dt">col.names =</span> <span class="kw">c</span>(<span class="st">&quot;Name&quot;</span>, <span class="st">&quot;# Reviews&quot;</span>),</span>
<span id="cb40-4"><a href="data-summary-eda-initial-model-attempts.html#cb40-4"></a>               <span class="dt">align =</span> <span class="kw">c</span>(<span class="st">&quot;l&quot;</span>,<span class="st">&quot;c&quot;</span>))</span></code></pre></div>
<table>
<thead>
<tr>
<th style="text-align:left;">
Name
</th>
<th style="text-align:center;">
# Reviews
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Jennifer P.
</td>
<td style="text-align:center;">
78
</td>
</tr>
<tr>
<td style="text-align:left;">
Amelia J.
</td>
<td style="text-align:center;">
77
</td>
</tr>
<tr>
<td style="text-align:left;">
Dawn M.
</td>
<td style="text-align:center;">
51
</td>
</tr>
<tr>
<td style="text-align:left;">
Samantha M.
</td>
<td style="text-align:center;">
44
</td>
</tr>
<tr>
<td style="text-align:left;">
Eric B.
</td>
<td style="text-align:center;">
41
</td>
</tr>
<tr>
<td style="text-align:left;">
Amanda B.
</td>
<td style="text-align:center;">
35
</td>
</tr>
<tr>
<td style="text-align:left;">
Coy W.
</td>
<td style="text-align:center;">
34
</td>
</tr>
<tr>
<td style="text-align:left;">
Drew K.
</td>
<td style="text-align:center;">
27
</td>
</tr>
<tr>
<td style="text-align:left;">
Spike D.
</td>
<td style="text-align:center;">
25
</td>
</tr>
<tr>
<td style="text-align:left;">
Amy B.
</td>
<td style="text-align:center;">
23
</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb41"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb41-1"><a href="data-summary-eda-initial-model-attempts.html#cb41-1"></a><span class="co"># </span></span>
<span id="cb41-2"><a href="data-summary-eda-initial-model-attempts.html#cb41-2"></a><span class="co"># %&gt;%</span></span>
<span id="cb41-3"><a href="data-summary-eda-initial-model-attempts.html#cb41-3"></a><span class="co">#   kableExtra::kable_styling(bootstrap_options = &quot;striped&quot;)</span></span></code></pre></div>
<p>The following table shows the first 10 reviews by our top reviewer, Jennifer P., in chronological order.</p>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb42-1"><a href="data-summary-eda-initial-model-attempts.html#cb42-1"></a>reviews_yelp <span class="op">%&gt;%</span></span>
<span id="cb42-2"><a href="data-summary-eda-initial-model-attempts.html#cb42-2"></a><span class="st">  </span><span class="kw">filter</span>(name <span class="op">==</span><span class="st"> &quot;Jennifer P.&quot;</span>) <span class="op">%&gt;%</span></span>
<span id="cb42-3"><a href="data-summary-eda-initial-model-attempts.html#cb42-3"></a><span class="st">  </span><span class="kw">select</span>(date, business, rating_num, comment) <span class="op">%&gt;%</span></span>
<span id="cb42-4"><a href="data-summary-eda-initial-model-attempts.html#cb42-4"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">date =</span> lubridate<span class="op">::</span><span class="kw">mdy</span>(date),</span>
<span id="cb42-5"><a href="data-summary-eda-initial-model-attempts.html#cb42-5"></a>         <span class="dt">comment =</span> <span class="kw">str_trunc</span>(comment, <span class="dv">70</span>)) <span class="op">%&gt;%</span></span>
<span id="cb42-6"><a href="data-summary-eda-initial-model-attempts.html#cb42-6"></a><span class="st">  </span><span class="kw">arrange</span>(date) <span class="op">%&gt;%</span></span>
<span id="cb42-7"><a href="data-summary-eda-initial-model-attempts.html#cb42-7"></a><span class="st">  </span><span class="kw">slice_head</span>(<span class="dt">n=</span><span class="dv">10</span>) <span class="op">%&gt;%</span></span>
<span id="cb42-8"><a href="data-summary-eda-initial-model-attempts.html#cb42-8"></a><span class="st">  </span>knitr<span class="op">::</span><span class="kw">kable</span>(<span class="dt">booktabs =</span> <span class="ot">TRUE</span>,</span>
<span id="cb42-9"><a href="data-summary-eda-initial-model-attempts.html#cb42-9"></a>               <span class="dt">col.names =</span> <span class="kw">c</span>(<span class="st">&quot;Date&quot;</span>, <span class="st">&quot;Business&quot;</span>, <span class="st">&quot;Stars&quot;</span>, <span class="st">&quot;Review&quot;</span>),</span>
<span id="cb42-10"><a href="data-summary-eda-initial-model-attempts.html#cb42-10"></a>               <span class="dt">align =</span> <span class="kw">c</span>(<span class="st">&quot;l&quot;</span>,<span class="st">&quot;l&quot;</span>,<span class="st">&quot;c&quot;</span>,<span class="st">&quot;l&quot;</span>))</span></code></pre></div>
<table>
<thead>
<tr>
<th style="text-align:left;">
Date
</th>
<th style="text-align:left;">
Business
</th>
<th style="text-align:center;">
Stars
</th>
<th style="text-align:left;">
Review
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
2012-06-22
</td>
<td style="text-align:left;">
Mr B’s-March House Restaurant
</td>
<td style="text-align:center;">
4
</td>
<td style="text-align:left;">
I never would have tried this restaurant had it not been recommende…
</td>
</tr>
<tr>
<td style="text-align:left;">
2012-07-04
</td>
<td style="text-align:left;">
Alirang Restaurant
</td>
<td style="text-align:center;">
3
</td>
<td style="text-align:left;">
I was here last week with my husband, my brother and his girlfriend…
</td>
</tr>
<tr>
<td style="text-align:left;">
2013-01-24
</td>
<td style="text-align:left;">
Corazón De Maíz
</td>
<td style="text-align:center;">
4
</td>
<td style="text-align:left;">
I can&amp;amp;#39;t believe that I walk by this place all the time, but…
</td>
</tr>
<tr>
<td style="text-align:left;">
2013-06-24
</td>
<td style="text-align:left;">
222 Lyon Tapas Bar
</td>
<td style="text-align:center;">
5
</td>
<td style="text-align:left;">
This place is absolutely delicious, but man is it ever expensive!  …
</td>
</tr>
<tr>
<td style="text-align:left;">
2013-09-02
</td>
<td style="text-align:left;">
Benny’s Bistro
</td>
<td style="text-align:center;">
5
</td>
<td style="text-align:left;">
I was visiting from out of town for my best friend&amp;amp;#39;s weddin…
</td>
</tr>
<tr>
<td style="text-align:left;">
2013-09-20
</td>
<td style="text-align:left;">
Art Is In Bakery
</td>
<td style="text-align:center;">
4
</td>
<td style="text-align:left;">
My husband and I were here for their Sunday Brunch recently with an…
</td>
</tr>
<tr>
<td style="text-align:left;">
2013-11-22
</td>
<td style="text-align:left;">
Gezellig
</td>
<td style="text-align:center;">
3
</td>
<td style="text-align:left;">
Sorry, I&amp;amp;#39;m going to have to downgrade this place to 3 stars…
</td>
</tr>
<tr>
<td style="text-align:left;">
2013-12-30
</td>
<td style="text-align:left;">
Thai Coconut
</td>
<td style="text-align:center;">
4
</td>
<td style="text-align:left;">
I went here with my husband today for the lunch buffet.  It was gre…
</td>
</tr>
<tr>
<td style="text-align:left;">
2014-05-07
</td>
<td style="text-align:left;">
Bite Burger House
</td>
<td style="text-align:center;">
4
</td>
<td style="text-align:left;">
I had an early dinner here with my husband recently.  Bite Burger H…
</td>
</tr>
<tr>
<td style="text-align:left;">
2014-07-07
</td>
<td style="text-align:left;">
Pookies Thai
</td>
<td style="text-align:center;">
4
</td>
<td style="text-align:left;">
I went here for dinner recently with my husband on a whim.  We&amp;amp;…
</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb43-1"><a href="data-summary-eda-initial-model-attempts.html#cb43-1"></a><span class="co"># </span></span>
<span id="cb43-2"><a href="data-summary-eda-initial-model-attempts.html#cb43-2"></a><span class="co"># %&gt;%</span></span>
<span id="cb43-3"><a href="data-summary-eda-initial-model-attempts.html#cb43-3"></a><span class="co">#   kableExtra::kable_styling(bootstrap_options = &quot;striped&quot;)</span></span></code></pre></div>
<p>These all seem to be good-faith restaurant reviews. And since this user has been active since 2012, to write 78 reviews they would have to write fewer than one per month. From this brief glance, we have no reason to think that Yelp users are posting insincere reviews.</p>
<p>However, I note that the reviews have some html junk in them: <code>&amp;amp;#39;</code> instead of an apostrophe, for example. These will need to be cleaned up before we use the data.</p>
</div>
</div>
<div id="mountain-equipment-co-op-mec" class="section level2">
<h2><span class="header-section-number">4.4</span> Mountain Equipment Co-op (MEC)</h2>
<div id="star-ratings-2" class="section level3">
<h3><span class="header-section-number">4.4.1</span> Star Ratings</h3>
<p>This histogram shows the distribution of star ratings for MEC reviews. It’s broadly similar to the Yelp and Goodreads reviews, except there is a small second peak at 1 star.</p>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb44-1"><a href="data-summary-eda-initial-model-attempts.html#cb44-1"></a>reviews_mec <span class="op">%&gt;%</span></span>
<span id="cb44-2"><a href="data-summary-eda-initial-model-attempts.html#cb44-2"></a><span class="st">  </span><span class="kw">ggplot</span>() <span class="op">+</span></span>
<span id="cb44-3"><a href="data-summary-eda-initial-model-attempts.html#cb44-3"></a><span class="st">  </span><span class="kw">geom_bar</span>(<span class="kw">aes</span>(<span class="dt">x=</span>rating_num)) <span class="op">+</span></span>
<span id="cb44-4"><a href="data-summary-eda-initial-model-attempts.html#cb44-4"></a><span class="st">  </span><span class="kw">theme_minimal</span>() <span class="op">+</span></span>
<span id="cb44-5"><a href="data-summary-eda-initial-model-attempts.html#cb44-5"></a><span class="st">  </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;MEC Ratings: Rating Count, Overall&quot;</span>,</span>
<span id="cb44-6"><a href="data-summary-eda-initial-model-attempts.html#cb44-6"></a>       <span class="dt">x=</span><span class="st">&quot;Star Rating&quot;</span>,</span>
<span id="cb44-7"><a href="data-summary-eda-initial-model-attempts.html#cb44-7"></a>       <span class="dt">y=</span><span class="ot">NULL</span>)</span></code></pre></div>
<p><img src="telfer-mba-nlp_files/figure-html/mec_overall_hist-1.png" width="672" /></p>
<p>If we break out the reviews by category, we can see that they all follow the same kind of exponential distribution <em>except</em> bicycle components.</p>
<div class="sourceCode" id="cb45"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb45-1"><a href="data-summary-eda-initial-model-attempts.html#cb45-1"></a>reviews_mec <span class="op">%&gt;%</span></span>
<span id="cb45-2"><a href="data-summary-eda-initial-model-attempts.html#cb45-2"></a><span class="st">  </span><span class="kw">ggplot</span>() <span class="op">+</span></span>
<span id="cb45-3"><a href="data-summary-eda-initial-model-attempts.html#cb45-3"></a><span class="st">  </span><span class="kw">geom_bar</span>(<span class="kw">aes</span>(<span class="dt">x=</span>rating_num)) <span class="op">+</span></span>
<span id="cb45-4"><a href="data-summary-eda-initial-model-attempts.html#cb45-4"></a><span class="st">  </span><span class="kw">theme_minimal</span>() <span class="op">+</span></span>
<span id="cb45-5"><a href="data-summary-eda-initial-model-attempts.html#cb45-5"></a><span class="st">  </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;MEC Ratings: Rating Count by Product Category&quot;</span>,</span>
<span id="cb45-6"><a href="data-summary-eda-initial-model-attempts.html#cb45-6"></a>       <span class="dt">x=</span><span class="st">&quot;Star Rating&quot;</span>,</span>
<span id="cb45-7"><a href="data-summary-eda-initial-model-attempts.html#cb45-7"></a>       <span class="dt">y=</span><span class="ot">NULL</span>) <span class="op">+</span></span>
<span id="cb45-8"><a href="data-summary-eda-initial-model-attempts.html#cb45-8"></a><span class="st">  </span><span class="kw">facet_wrap</span>(<span class="op">~</span>product_type)</span></code></pre></div>
<p><img src="telfer-mba-nlp_files/figure-html/mec_product_type_hist-1.png" width="672" /></p>
<p>We can break the bicycle compoenents category down further by individual product. The facet wrap is messy, but we can clearly see that there are a few produts with anomalous spikes in 1-star ratings, and that ecah of these products has the word “tube” in the title.</p>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb46-1"><a href="data-summary-eda-initial-model-attempts.html#cb46-1"></a>reviews_mec <span class="op">%&gt;%</span></span>
<span id="cb46-2"><a href="data-summary-eda-initial-model-attempts.html#cb46-2"></a><span class="st">  </span><span class="kw">filter</span>(product_type<span class="op">==</span><span class="st">&quot;bike-components&quot;</span>) <span class="op">%&gt;%</span></span>
<span id="cb46-3"><a href="data-summary-eda-initial-model-attempts.html#cb46-3"></a><span class="st">  </span><span class="kw">ggplot</span>() <span class="op">+</span></span>
<span id="cb46-4"><a href="data-summary-eda-initial-model-attempts.html#cb46-4"></a><span class="st">  </span><span class="kw">geom_bar</span>(<span class="kw">aes</span>(<span class="dt">x=</span>rating_num)) <span class="op">+</span></span>
<span id="cb46-5"><a href="data-summary-eda-initial-model-attempts.html#cb46-5"></a><span class="st">  </span><span class="kw">theme_minimal</span>() <span class="op">+</span></span>
<span id="cb46-6"><a href="data-summary-eda-initial-model-attempts.html#cb46-6"></a><span class="st">  </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;MEC Ratings: Rating Count by Product&quot;</span>,</span>
<span id="cb46-7"><a href="data-summary-eda-initial-model-attempts.html#cb46-7"></a>       <span class="dt">subtitle =</span> <span class="st">&quot;Bicycle Components&quot;</span>,</span>
<span id="cb46-8"><a href="data-summary-eda-initial-model-attempts.html#cb46-8"></a>       <span class="dt">x=</span><span class="st">&quot;Star Rating&quot;</span>,</span>
<span id="cb46-9"><a href="data-summary-eda-initial-model-attempts.html#cb46-9"></a>       <span class="dt">y=</span><span class="ot">NULL</span>) <span class="op">+</span></span>
<span id="cb46-10"><a href="data-summary-eda-initial-model-attempts.html#cb46-10"></a><span class="st">  </span><span class="kw">facet_wrap</span>(<span class="op">~</span>product_name)</span></code></pre></div>
<p><img src="telfer-mba-nlp_files/figure-html/mec_products_hist-1.png" width="672" /></p>
<p>We can conclude that MEC’s reviews follow the same pattern as Yelp and Goodreads overall, <em>except</em> for bicycle inner tubes which have unusually high numbers of 1-star reviews. We should keep this in mind when modeling using the MEC data.</p>
</div>
<div id="word-counts" class="section level3">
<h3><span class="header-section-number">4.4.2</span> Word Counts</h3>
<p>Most MEC reviews are very short. They look to be shortest of all three datasets, both in terms of the shape of the dsitribution and the maximum review lengths. We will see this below in a later section when we plot all three distributions at once.</p>
<div class="sourceCode" id="cb47"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb47-1"><a href="data-summary-eda-initial-model-attempts.html#cb47-1"></a>wordcounts_mec &lt;-<span class="st"> </span>reviews_mec <span class="op">%&gt;%</span></span>
<span id="cb47-2"><a href="data-summary-eda-initial-model-attempts.html#cb47-2"></a><span class="st">  </span><span class="kw">select</span>(comment) <span class="op">%&gt;%</span></span>
<span id="cb47-3"><a href="data-summary-eda-initial-model-attempts.html#cb47-3"></a><span class="st">  </span><span class="kw">rowid_to_column</span>() <span class="op">%&gt;%</span></span>
<span id="cb47-4"><a href="data-summary-eda-initial-model-attempts.html#cb47-4"></a><span class="st">  </span>tidytext<span class="op">::</span><span class="kw">unnest_tokens</span>(word, comment) <span class="op">%&gt;%</span></span>
<span id="cb47-5"><a href="data-summary-eda-initial-model-attempts.html#cb47-5"></a><span class="st">  </span><span class="kw">group_by</span>(rowid) <span class="op">%&gt;%</span></span>
<span id="cb47-6"><a href="data-summary-eda-initial-model-attempts.html#cb47-6"></a><span class="st">  </span><span class="kw">summarise</span>(<span class="dt">n =</span> <span class="kw">n</span>()) <span class="op">%&gt;%</span></span>
<span id="cb47-7"><a href="data-summary-eda-initial-model-attempts.html#cb47-7"></a><span class="st">  </span><span class="kw">arrange</span>(n) <span class="op">%&gt;%</span></span>
<span id="cb47-8"><a href="data-summary-eda-initial-model-attempts.html#cb47-8"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">id =</span> <span class="dv">1</span>,</span>
<span id="cb47-9"><a href="data-summary-eda-initial-model-attempts.html#cb47-9"></a>         <span class="dt">cumdist =</span> <span class="kw">cumsum</span>(id)) </span>
<span id="cb47-10"><a href="data-summary-eda-initial-model-attempts.html#cb47-10"></a></span>
<span id="cb47-11"><a href="data-summary-eda-initial-model-attempts.html#cb47-11"></a>wordcounts_mec <span class="op">%&gt;%</span></span>
<span id="cb47-12"><a href="data-summary-eda-initial-model-attempts.html#cb47-12"></a><span class="st">  </span><span class="kw">ggplot</span>() <span class="op">+</span></span>
<span id="cb47-13"><a href="data-summary-eda-initial-model-attempts.html#cb47-13"></a><span class="st">  </span><span class="kw">geom_point</span>(<span class="kw">aes</span>(<span class="dt">y=</span>cumdist, <span class="dt">x=</span>n)) <span class="op">+</span></span>
<span id="cb47-14"><a href="data-summary-eda-initial-model-attempts.html#cb47-14"></a><span class="st">  </span><span class="kw">theme_minimal</span>() <span class="op">+</span></span>
<span id="cb47-15"><a href="data-summary-eda-initial-model-attempts.html#cb47-15"></a><span class="st">  </span><span class="kw">labs</span>(<span class="dt">title =</span><span class="st">&quot;MEC Reviews: Cumulative Distribution of Word-Lengths&quot;</span>,</span>
<span id="cb47-16"><a href="data-summary-eda-initial-model-attempts.html#cb47-16"></a>       <span class="dt">x =</span> <span class="st">&quot;Word Length&quot;</span>,</span>
<span id="cb47-17"><a href="data-summary-eda-initial-model-attempts.html#cb47-17"></a>       <span class="dt">y =</span> <span class="st">&quot;# of Reviews&quot;</span>)</span></code></pre></div>
<p><img src="telfer-mba-nlp_files/figure-html/wordcounts_mec-1.png" width="672" /></p>
<p>If we look at the five shortest reviews, they all seem to be short but legitimate so we can be comfortable with our data quality.</p>
<div class="sourceCode" id="cb48"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb48-1"><a href="data-summary-eda-initial-model-attempts.html#cb48-1"></a>wordcounts_mec <span class="op">%&gt;%</span></span>
<span id="cb48-2"><a href="data-summary-eda-initial-model-attempts.html#cb48-2"></a><span class="st">  </span><span class="kw">arrange</span>(n) <span class="op">%&gt;%</span></span>
<span id="cb48-3"><a href="data-summary-eda-initial-model-attempts.html#cb48-3"></a><span class="st">  </span><span class="kw">head</span>(<span class="dv">5</span>) <span class="op">%&gt;%</span></span>
<span id="cb48-4"><a href="data-summary-eda-initial-model-attempts.html#cb48-4"></a><span class="st">  </span><span class="kw">pull</span>(rowid) <span class="op">%&gt;%</span></span>
<span id="cb48-5"><a href="data-summary-eda-initial-model-attempts.html#cb48-5"></a><span class="st">  </span><span class="kw">slice</span>(reviews_mec, .) <span class="op">%&gt;%</span></span>
<span id="cb48-6"><a href="data-summary-eda-initial-model-attempts.html#cb48-6"></a><span class="st">  </span><span class="kw">select</span>(product_name,rating_num,comment) <span class="op">%&gt;%</span></span>
<span id="cb48-7"><a href="data-summary-eda-initial-model-attempts.html#cb48-7"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="kw">across</span>(<span class="kw">where</span>(is.character), str_trunc, <span class="dt">width=</span><span class="dv">40</span>)) <span class="op">%&gt;%</span></span>
<span id="cb48-8"><a href="data-summary-eda-initial-model-attempts.html#cb48-8"></a><span class="st">  </span>knitr<span class="op">::</span><span class="kw">kable</span>(<span class="dt">booktabs =</span> T,</span>
<span id="cb48-9"><a href="data-summary-eda-initial-model-attempts.html#cb48-9"></a>        <span class="dt">col.names =</span> <span class="kw">c</span>(<span class="st">&quot;Business&quot;</span>, <span class="st">&quot;Stars&quot;</span>, <span class="st">&quot;Review&quot;</span>),</span>
<span id="cb48-10"><a href="data-summary-eda-initial-model-attempts.html#cb48-10"></a>        <span class="dt">align =</span> <span class="kw">c</span>(<span class="st">&quot;l&quot;</span>,<span class="st">&quot;c&quot;</span>,<span class="st">&quot;l&quot;</span>))</span></code></pre></div>
<table>
<thead>
<tr>
<th style="text-align:left;">
Business
</th>
<th style="text-align:center;">
Stars
</th>
<th style="text-align:left;">
Review
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
MEC 700 x 23-25C Tube (48mm Presta Va…
</td>
<td style="text-align:center;">
2
</td>
<td style="text-align:left;">
Lasted 1 season basically disposable
</td>
</tr>
<tr>
<td style="text-align:left;">
Smartwool Liner Gloves - Unisex
</td>
<td style="text-align:center;">
5
</td>
<td style="text-align:left;">
Love smartwool products, the gloves a…
</td>
</tr>
<tr>
<td style="text-align:left;">
Scarpa Moraine Mid Gore-Tex Light Tra…
</td>
<td style="text-align:center;">
5
</td>
<td style="text-align:left;">
light, comfortable and good looking! …
</td>
</tr>
<tr>
<td style="text-align:left;">
Scarpa Moraine Mid Gore-Tex Light Tra…
</td>
<td style="text-align:center;">
4
</td>
<td style="text-align:left;">
good pair of shoes. lightweight but …
</td>
</tr>
<tr>
<td style="text-align:left;">
La Sportiva TC Pro Rock Shoes - Unisex
</td>
<td style="text-align:center;">
5
</td>
<td style="text-align:left;">
Flat stiff shoe. Perfect for vertical…
</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb49"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb49-1"><a href="data-summary-eda-initial-model-attempts.html#cb49-1"></a> <span class="co"># %&gt;%</span></span>
<span id="cb49-2"><a href="data-summary-eda-initial-model-attempts.html#cb49-2"></a> <span class="co">#  kableExtra::column_spec(column = 1:3,</span></span>
<span id="cb49-3"><a href="data-summary-eda-initial-model-attempts.html#cb49-3"></a> <span class="co">#                          width = c(&quot;5cm&quot;,&quot;3cm&quot;,&quot;10cm&quot;)) %&gt;%</span></span>
<span id="cb49-4"><a href="data-summary-eda-initial-model-attempts.html#cb49-4"></a> <span class="co">#  kableExtra::kable_styling()%&gt;%</span></span>
<span id="cb49-5"><a href="data-summary-eda-initial-model-attempts.html#cb49-5"></a> <span class="co">#  kableExtra::kable_styling(bootstrap_options = &quot;striped&quot;)</span></span></code></pre></div>
</div>
<div id="reviewers-2" class="section level3">
<h3><span class="header-section-number">4.4.3</span> Reviewers</h3>
<p>As with the other datasets, it first appears that most users leave only a few reviews but there are some “super-users” who leave quite a few.</p>
<div class="sourceCode" id="cb50"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb50-1"><a href="data-summary-eda-initial-model-attempts.html#cb50-1"></a>reviewers_mec &lt;-<span class="st"> </span>reviews_mec <span class="op">%&gt;%</span></span>
<span id="cb50-2"><a href="data-summary-eda-initial-model-attempts.html#cb50-2"></a><span class="st">  </span><span class="kw">group_by</span>(user_name) <span class="op">%&gt;%</span></span>
<span id="cb50-3"><a href="data-summary-eda-initial-model-attempts.html#cb50-3"></a><span class="st">  </span><span class="kw">summarise</span>(<span class="dt">n =</span> <span class="kw">n</span>()) <span class="op">%&gt;%</span></span>
<span id="cb50-4"><a href="data-summary-eda-initial-model-attempts.html#cb50-4"></a><span class="st">  </span><span class="kw">arrange</span>(<span class="kw">desc</span>(n))</span></code></pre></div>
<pre><code>## `summarise()` ungrouping output (override with `.groups` argument)</code></pre>
<div class="sourceCode" id="cb52"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb52-1"><a href="data-summary-eda-initial-model-attempts.html#cb52-1"></a>reviewers_mec <span class="op">%&gt;%</span></span>
<span id="cb52-2"><a href="data-summary-eda-initial-model-attempts.html#cb52-2"></a><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x=</span>n)) <span class="op">+</span></span>
<span id="cb52-3"><a href="data-summary-eda-initial-model-attempts.html#cb52-3"></a><span class="st">  </span><span class="kw">geom_histogram</span>() <span class="op">+</span></span>
<span id="cb52-4"><a href="data-summary-eda-initial-model-attempts.html#cb52-4"></a><span class="st">  </span><span class="kw">theme_minimal</span>() <span class="op">+</span></span>
<span id="cb52-5"><a href="data-summary-eda-initial-model-attempts.html#cb52-5"></a><span class="st">  </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;MEC: Distribution of Reviews per User&quot;</span>,</span>
<span id="cb52-6"><a href="data-summary-eda-initial-model-attempts.html#cb52-6"></a>       <span class="dt">x =</span> <span class="st">&quot;# of Reviews&quot;</span>,</span>
<span id="cb52-7"><a href="data-summary-eda-initial-model-attempts.html#cb52-7"></a>       <span class="dt">y =</span> <span class="st">&quot;# of Users&quot;</span>) </span></code></pre></div>
<pre><code>## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<p><img src="telfer-mba-nlp_files/figure-html/mec_reviewers_histogram-1.png" width="672" /></p>
<p>Upon closer inspection, however, we see that our largest “user” is <em>NA</em>, suggesting that most users leave a smallish number of reviews but that some leave reviews anonymously.</p>
<div class="sourceCode" id="cb54"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb54-1"><a href="data-summary-eda-initial-model-attempts.html#cb54-1"></a>reviewers_mec <span class="op">%&gt;%</span></span>
<span id="cb54-2"><a href="data-summary-eda-initial-model-attempts.html#cb54-2"></a><span class="st">  </span><span class="kw">top_n</span>(<span class="dv">10</span>, <span class="dt">wt =</span> n) <span class="op">%&gt;%</span></span>
<span id="cb54-3"><a href="data-summary-eda-initial-model-attempts.html#cb54-3"></a><span class="st">  </span>knitr<span class="op">::</span><span class="kw">kable</span>(<span class="dt">col.names =</span> <span class="kw">c</span>(<span class="st">&quot;Name&quot;</span>, <span class="st">&quot;# Reviews&quot;</span>),</span>
<span id="cb54-4"><a href="data-summary-eda-initial-model-attempts.html#cb54-4"></a>               <span class="dt">align =</span> <span class="kw">c</span>(<span class="st">&quot;l&quot;</span>,<span class="st">&quot;c&quot;</span>))<span class="op">%&gt;%</span></span>
<span id="cb54-5"><a href="data-summary-eda-initial-model-attempts.html#cb54-5"></a><span class="st">  </span>kableExtra<span class="op">::</span><span class="kw">kable_styling</span>(<span class="dt">bootstrap_options =</span> <span class="st">&quot;striped&quot;</span>)</span></code></pre></div>
<table class="table table-striped" style="margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
Name
</th>
<th style="text-align:center;">
# Reviews
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
NA
</td>
<td style="text-align:center;">
76
</td>
</tr>
<tr>
<td style="text-align:left;">
Matt
</td>
<td style="text-align:center;">
9
</td>
</tr>
<tr>
<td style="text-align:left;">
Chris
</td>
<td style="text-align:center;">
8
</td>
</tr>
<tr>
<td style="text-align:left;">
Mike
</td>
<td style="text-align:center;">
8
</td>
</tr>
<tr>
<td style="text-align:left;">
Ryan
</td>
<td style="text-align:center;">
7
</td>
</tr>
<tr>
<td style="text-align:left;">
John
</td>
<td style="text-align:center;">
6
</td>
</tr>
<tr>
<td style="text-align:left;">
Mark
</td>
<td style="text-align:center;">
6
</td>
</tr>
<tr>
<td style="text-align:left;">
VicCyclist40
</td>
<td style="text-align:center;">
6
</td>
</tr>
<tr>
<td style="text-align:left;">
Dave
</td>
<td style="text-align:center;">
5
</td>
</tr>
<tr>
<td style="text-align:left;">
Paul
</td>
<td style="text-align:center;">
5
</td>
</tr>
<tr>
<td style="text-align:left;">
Steph
</td>
<td style="text-align:center;">
5
</td>
</tr>
</tbody>
</table>
<p>The following table shows all 9 reviews by our top reviewer, Matt, in chronological order.</p>
<div class="sourceCode" id="cb55"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb55-1"><a href="data-summary-eda-initial-model-attempts.html#cb55-1"></a>reviews_mec <span class="op">%&gt;%</span></span>
<span id="cb55-2"><a href="data-summary-eda-initial-model-attempts.html#cb55-2"></a><span class="st">  </span><span class="kw">filter</span>(user_name <span class="op">==</span><span class="st"> &quot;Matt&quot;</span>) <span class="op">%&gt;%</span></span>
<span id="cb55-3"><a href="data-summary-eda-initial-model-attempts.html#cb55-3"></a><span class="st">  </span><span class="kw">select</span>(date, product_name, rating_num, comment) <span class="op">%&gt;%</span></span>
<span id="cb55-4"><a href="data-summary-eda-initial-model-attempts.html#cb55-4"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">comment =</span> <span class="kw">str_trunc</span>(comment, <span class="dv">70</span>)) <span class="op">%&gt;%</span></span>
<span id="cb55-5"><a href="data-summary-eda-initial-model-attempts.html#cb55-5"></a><span class="st">  </span><span class="kw">arrange</span>(date) <span class="op">%&gt;%</span></span>
<span id="cb55-6"><a href="data-summary-eda-initial-model-attempts.html#cb55-6"></a><span class="st">  </span>knitr<span class="op">::</span><span class="kw">kable</span>(<span class="dt">booktabs =</span> <span class="ot">TRUE</span>,</span>
<span id="cb55-7"><a href="data-summary-eda-initial-model-attempts.html#cb55-7"></a>               <span class="dt">col.names =</span> <span class="kw">c</span>(<span class="st">&quot;Date&quot;</span>, <span class="st">&quot;Product&quot;</span>, <span class="st">&quot;Stars&quot;</span>, <span class="st">&quot;Review&quot;</span>),</span>
<span id="cb55-8"><a href="data-summary-eda-initial-model-attempts.html#cb55-8"></a>               <span class="dt">align =</span> <span class="kw">c</span>(<span class="st">&quot;l&quot;</span>,<span class="st">&quot;l&quot;</span>,<span class="st">&quot;c&quot;</span>,<span class="st">&quot;l&quot;</span>))</span></code></pre></div>
<table>
<thead>
<tr>
<th style="text-align:left;">
Date
</th>
<th style="text-align:left;">
Product
</th>
<th style="text-align:center;">
Stars
</th>
<th style="text-align:left;">
Review
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
2016-02-29 04:59:40
</td>
<td style="text-align:left;">
Black Diamond Mercury Mitts - Men’s
</td>
<td style="text-align:center;">
3
</td>
<td style="text-align:left;">
I bought these to replace the BD mercury mitts I purchased 6 years …
</td>
</tr>
<tr>
<td style="text-align:left;">
2017-08-23 20:16:05
</td>
<td style="text-align:left;">
MEC Mallard -5C Down Sleeping Bag - Unisex
</td>
<td style="text-align:center;">
5
</td>
<td style="text-align:left;">
I usually use a bag with a hood but found my self feeling confined …
</td>
</tr>
<tr>
<td style="text-align:left;">
2017-11-14 03:28:48
</td>
<td style="text-align:left;">
Oboz Bridger Mid Bdry Hiking Shoes - Men’s
</td>
<td style="text-align:center;">
5
</td>
<td style="text-align:left;">
Bought these boots two years ago. Hiked up Sulphur Skyline in Jaspe…
</td>
</tr>
<tr>
<td style="text-align:left;">
2018-01-20 21:55:36
</td>
<td style="text-align:left;">
MEC Goto Fleece Gloves - Unisex
</td>
<td style="text-align:center;">
5
</td>
<td style="text-align:left;">
These are casual use gloves for me and I wear them around town when…
</td>
</tr>
<tr>
<td style="text-align:left;">
2018-02-01 11:13:17
</td>
<td style="text-align:left;">
Black Diamond Guide Gloves - Men’s
</td>
<td style="text-align:center;">
2
</td>
<td style="text-align:left;">
Very warm, but not very durable. Considering the cost, these gloves…
</td>
</tr>
<tr>
<td style="text-align:left;">
2018-07-24 20:03:37
</td>
<td style="text-align:left;">
MEC Creekside 0C Sleeping Bag - Unisex
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:left;">
I’ve used this bag twice and froze both times at temperatures betwe…
</td>
</tr>
<tr>
<td style="text-align:left;">
2019-05-15 04:00:46
</td>
<td style="text-align:left;">
Scarpa Kailash Trek Gore-Tex Hiking Boots - Men’s
</td>
<td style="text-align:center;">
5
</td>
<td style="text-align:left;">
While i have so far only logged one day of hiking in my new Scarpas…
</td>
</tr>
<tr>
<td style="text-align:left;">
2019-06-11 00:19:21
</td>
<td style="text-align:left;">
La Sportiva Finale Rock Shoes - Men’s
</td>
<td style="text-align:center;">
5
</td>
<td style="text-align:left;">
I’m relatively new to the sport and decided to go with these as my …
</td>
</tr>
<tr>
<td style="text-align:left;">
2019-08-25 17:47:30
</td>
<td style="text-align:left;">
MEC Reactor 10 Double Sleeping Pad - Unisex
</td>
<td style="text-align:center;">
5
</td>
<td style="text-align:left;">
I recently bought this mattress for car camping and it is incredibl…
</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb56"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb56-1"><a href="data-summary-eda-initial-model-attempts.html#cb56-1"></a><span class="co"># %&gt;%</span></span>
<span id="cb56-2"><a href="data-summary-eda-initial-model-attempts.html#cb56-2"></a><span class="co">#   kableExtra::kable_styling(bootstrap_options = &quot;striped&quot;)</span></span></code></pre></div>
<p>This looks like a legit usage pattern with real reviews. However, we should also spot-check some reviews assigned to <em>NA</em>:</p>
<div class="sourceCode" id="cb57"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb57-1"><a href="data-summary-eda-initial-model-attempts.html#cb57-1"></a>reviews_mec <span class="op">%&gt;%</span></span>
<span id="cb57-2"><a href="data-summary-eda-initial-model-attempts.html#cb57-2"></a><span class="st">  </span><span class="kw">filter</span>(<span class="kw">is.na</span>(user_name)) <span class="op">%&gt;%</span></span>
<span id="cb57-3"><a href="data-summary-eda-initial-model-attempts.html#cb57-3"></a><span class="st">  </span><span class="kw">select</span>(date, product_name, rating_num, comment) <span class="op">%&gt;%</span></span>
<span id="cb57-4"><a href="data-summary-eda-initial-model-attempts.html#cb57-4"></a><span class="st">  </span><span class="kw">slice_head</span>(<span class="dt">n=</span><span class="dv">10</span>) <span class="op">%&gt;%</span></span>
<span id="cb57-5"><a href="data-summary-eda-initial-model-attempts.html#cb57-5"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">comment =</span> <span class="kw">str_trunc</span>(comment, <span class="dv">70</span>)) <span class="op">%&gt;%</span></span>
<span id="cb57-6"><a href="data-summary-eda-initial-model-attempts.html#cb57-6"></a><span class="st">  </span><span class="kw">arrange</span>(date) <span class="op">%&gt;%</span></span>
<span id="cb57-7"><a href="data-summary-eda-initial-model-attempts.html#cb57-7"></a><span class="st">  </span>knitr<span class="op">::</span><span class="kw">kable</span>(<span class="dt">booktabs =</span> <span class="ot">TRUE</span>,</span>
<span id="cb57-8"><a href="data-summary-eda-initial-model-attempts.html#cb57-8"></a>               <span class="dt">col.names =</span> <span class="kw">c</span>(<span class="st">&quot;Date&quot;</span>, <span class="st">&quot;Business&quot;</span>, <span class="st">&quot;Stars&quot;</span>, <span class="st">&quot;Review&quot;</span>),</span>
<span id="cb57-9"><a href="data-summary-eda-initial-model-attempts.html#cb57-9"></a>               <span class="dt">align =</span> <span class="kw">c</span>(<span class="st">&quot;l&quot;</span>,<span class="st">&quot;l&quot;</span>,<span class="st">&quot;c&quot;</span>,<span class="st">&quot;l&quot;</span>))</span></code></pre></div>
<table>
<thead>
<tr>
<th style="text-align:left;">
Date
</th>
<th style="text-align:left;">
Business
</th>
<th style="text-align:center;">
Stars
</th>
<th style="text-align:left;">
Review
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
2012-08-05 02:01:07
</td>
<td style="text-align:left;">
SRAM PC-971 9 Speed Chain
</td>
<td style="text-align:center;">
3
</td>
<td style="text-align:left;">
<p>I used this chain on both my road and mountain bikes.</p>
It’s done fi…
</td>
</tr>
<tr>
<td style="text-align:left;">
2013-09-23 01:57:46
</td>
<td style="text-align:left;">
MEC 700 x 23-25C Tube (48mm Presta Valve)
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:left;">
Don’t waste your time with these. I’ve been through 4 this season a…
</td>
</tr>
<tr>
<td style="text-align:left;">
2014-05-12 17:00:57
</td>
<td style="text-align:left;">
MEC 700 x 23-25C Tube (48mm Presta Valve)
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:left;">
This is the third of these tubes I have had split down the seam. Th…
</td>
</tr>
<tr>
<td style="text-align:left;">
2014-06-25 03:13:43
</td>
<td style="text-align:left;">
MEC 700 x 23-25C Tube (60mm Presta Valve)
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:left;">
I’m afraid that I have to add my voice to the chorus of negative re…
</td>
</tr>
<tr>
<td style="text-align:left;">
2014-10-04 02:21:33
</td>
<td style="text-align:left;">
MEC 700 x 23-25C Tube (48mm Presta Valve)
</td>
<td style="text-align:center;">
4
</td>
<td style="text-align:left;">
I’m not sure where this chorus of negative reviews is coming from. …
</td>
</tr>
<tr>
<td style="text-align:left;">
2014-10-25 21:28:29
</td>
<td style="text-align:left;">
MEC 700X32-35C (27"x1 1/4) Tube Schrader Valve
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:left;">
I’ve bought two of these tubes and had to return both of them, I wi…
</td>
</tr>
<tr>
<td style="text-align:left;">
2015-08-06 21:25:01
</td>
<td style="text-align:left;">
MEC 700X32-35C (27"x1 1/4) Tube Schrader Valve
</td>
<td style="text-align:center;">
3
</td>
<td style="text-align:left;">
Have used three of these over a couple of years and the only one th…
</td>
</tr>
<tr>
<td style="text-align:left;">
2015-11-16 19:45:33
</td>
<td style="text-align:left;">
MEC 700 x 23-25C Tube (48mm Presta Valve)
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:left;">
I ride ten kilometres to work and ten kilometres home from work eve…
</td>
</tr>
<tr>
<td style="text-align:left;">
2016-02-27 13:47:26
</td>
<td style="text-align:left;">
SRAM PC-971 9 Speed Chain
</td>
<td style="text-align:center;">
4
</td>
<td style="text-align:left;">
I have been using PC971 chains for many years. Currently I do most …
</td>
</tr>
<tr>
<td style="text-align:left;">
2016-06-22 21:38:52
</td>
<td style="text-align:left;">
SRAM PC-971 9 Speed Chain
</td>
<td style="text-align:center;">
4
</td>
<td style="text-align:left;">
The chain that I have purchased from MEC is really a good chain. I …
</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb58"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb58-1"><a href="data-summary-eda-initial-model-attempts.html#cb58-1"></a><span class="co"># # %&gt;%</span></span>
<span id="cb58-2"><a href="data-summary-eda-initial-model-attempts.html#cb58-2"></a><span class="co">#   kableExtra::kable_styling(bootstrap_options = &quot;striped&quot;)</span></span></code></pre></div>
<p>These also look like legitimate reviews, so it’s possible that these were legitimately left anonymously or that there was a data-parsing issue with the API.</p>
</div>
</div>
<div id="comparing-goodreads-mec-and-yelp" class="section level2">
<h2><span class="header-section-number">4.5</span> Comparing Goodreads, MEC, and Yelp</h2>
<div id="star-ratings-3" class="section level3">
<h3><span class="header-section-number">4.5.1</span> Star Ratings</h3>
<p>When we compare Yelp and Goodreads reviews by the number of star ratings, the distributions look very similar. There are fewer Yelp reviews, but the shape of the distribution looks like a scaled-down version of the Goodreads distribution. There are far fewer MEC reviews, and it looks like the distribution has a slight second peak at 1 star.</p>
<div class="sourceCode" id="cb59"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb59-1"><a href="data-summary-eda-initial-model-attempts.html#cb59-1"></a>gr &lt;-<span class="st"> </span>reviews_gr <span class="op">%&gt;%</span></span>
<span id="cb59-2"><a href="data-summary-eda-initial-model-attempts.html#cb59-2"></a><span class="st">  </span><span class="kw">group_by</span>(rating_num) <span class="op">%&gt;%</span></span>
<span id="cb59-3"><a href="data-summary-eda-initial-model-attempts.html#cb59-3"></a><span class="st">  </span><span class="kw">summarise</span>(<span class="dt">gr =</span> <span class="kw">n</span>())</span></code></pre></div>
<pre><code>## `summarise()` ungrouping output (override with `.groups` argument)</code></pre>
<div class="sourceCode" id="cb61"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb61-1"><a href="data-summary-eda-initial-model-attempts.html#cb61-1"></a>yp &lt;-<span class="st"> </span>reviews_yelp <span class="op">%&gt;%</span></span>
<span id="cb61-2"><a href="data-summary-eda-initial-model-attempts.html#cb61-2"></a><span class="st">  </span><span class="kw">group_by</span>(rating_num) <span class="op">%&gt;%</span></span>
<span id="cb61-3"><a href="data-summary-eda-initial-model-attempts.html#cb61-3"></a><span class="st">  </span><span class="kw">summarise</span>(<span class="dt">yp =</span> <span class="kw">n</span>())</span></code></pre></div>
<pre><code>## `summarise()` ungrouping output (override with `.groups` argument)</code></pre>
<div class="sourceCode" id="cb63"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb63-1"><a href="data-summary-eda-initial-model-attempts.html#cb63-1"></a>mc &lt;-<span class="st"> </span>reviews_mec <span class="op">%&gt;%</span></span>
<span id="cb63-2"><a href="data-summary-eda-initial-model-attempts.html#cb63-2"></a><span class="st">  </span><span class="kw">group_by</span>(rating_num) <span class="op">%&gt;%</span></span>
<span id="cb63-3"><a href="data-summary-eda-initial-model-attempts.html#cb63-3"></a><span class="st">  </span><span class="kw">summarise</span>(<span class="dt">mc =</span> <span class="kw">n</span>())</span></code></pre></div>
<pre><code>## `summarise()` ungrouping output (override with `.groups` argument)</code></pre>
<div class="sourceCode" id="cb65"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb65-1"><a href="data-summary-eda-initial-model-attempts.html#cb65-1"></a>compare &lt;-<span class="st"> </span><span class="kw">left_join</span>(gr, yp) <span class="op">%&gt;%</span></span>
<span id="cb65-2"><a href="data-summary-eda-initial-model-attempts.html#cb65-2"></a><span class="st">  </span><span class="kw">left_join</span>(mc)</span></code></pre></div>
<pre><code>## Joining, by = &quot;rating_num&quot;</code></pre>
<pre><code>## Joining, by = &quot;rating_num&quot;</code></pre>
<div class="sourceCode" id="cb68"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb68-1"><a href="data-summary-eda-initial-model-attempts.html#cb68-1"></a>compare_long &lt;-<span class="st"> </span>compare <span class="op">%&gt;%</span></span>
<span id="cb68-2"><a href="data-summary-eda-initial-model-attempts.html#cb68-2"></a><span class="st">  </span><span class="kw">pivot_longer</span>(<span class="dt">cols =</span> <span class="kw">c</span>(<span class="st">&quot;gr&quot;</span>, <span class="st">&quot;yp&quot;</span>,<span class="st">&quot;mc&quot;</span>), <span class="dt">names_to =</span> <span class="st">&quot;source&quot;</span>, <span class="dt">values_to =</span> <span class="st">&quot;num&quot;</span>)</span>
<span id="cb68-3"><a href="data-summary-eda-initial-model-attempts.html#cb68-3"></a></span>
<span id="cb68-4"><a href="data-summary-eda-initial-model-attempts.html#cb68-4"></a>compare_long <span class="op">%&gt;%</span></span>
<span id="cb68-5"><a href="data-summary-eda-initial-model-attempts.html#cb68-5"></a><span class="st">  </span><span class="kw">ggplot</span>() <span class="op">+</span></span>
<span id="cb68-6"><a href="data-summary-eda-initial-model-attempts.html#cb68-6"></a><span class="st">  </span><span class="kw">geom_col</span>(<span class="kw">aes</span>(<span class="dt">x=</span>rating_num, <span class="dt">y=</span>num, <span class="dt">group=</span>source, <span class="dt">fill=</span>source), <span class="dt">position =</span> <span class="st">&quot;dodge&quot;</span>) <span class="op">+</span></span>
<span id="cb68-7"><a href="data-summary-eda-initial-model-attempts.html#cb68-7"></a><span class="st">  </span><span class="kw">theme_minimal</span>() <span class="op">+</span></span>
<span id="cb68-8"><a href="data-summary-eda-initial-model-attempts.html#cb68-8"></a><span class="st">  </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;Goodreads, MEC, and Yelp Reviews: Total Counts by Rating&quot;</span>,</span>
<span id="cb68-9"><a href="data-summary-eda-initial-model-attempts.html#cb68-9"></a>       <span class="dt">x =</span> <span class="st">&quot;Star Rating&quot;</span>,</span>
<span id="cb68-10"><a href="data-summary-eda-initial-model-attempts.html#cb68-10"></a>       <span class="dt">y =</span> <span class="st">&quot;n&quot;</span>,</span>
<span id="cb68-11"><a href="data-summary-eda-initial-model-attempts.html#cb68-11"></a>       <span class="dt">fill =</span> <span class="st">&quot;Source&quot;</span>) <span class="op">+</span></span>
<span id="cb68-12"><a href="data-summary-eda-initial-model-attempts.html#cb68-12"></a><span class="st">    </span><span class="kw">scale_fill_viridis_d</span>(<span class="dt">labels =</span> <span class="kw">c</span>(<span class="st">&quot;Goodreads&quot;</span>, <span class="st">&quot;MEC&quot;</span>, <span class="st">&quot;Yelp&quot;</span>))</span></code></pre></div>
<p><img src="telfer-mba-nlp_files/figure-html/gr_yp_hist-1.png" width="672" /></p>
<p>To get a better feel for how the distributions vary, we can plot the proportional breakdown of star reviews for each source. The following plot shows that the Goodreads and Yelp distributions track each other somewhat closely but the MEC reviews are quite different.</p>
<div class="sourceCode" id="cb69"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb69-1"><a href="data-summary-eda-initial-model-attempts.html#cb69-1"></a>compare_long <span class="op">%&gt;%</span></span>
<span id="cb69-2"><a href="data-summary-eda-initial-model-attempts.html#cb69-2"></a><span class="st">  </span><span class="kw">group_by</span>(source) <span class="op">%&gt;%</span></span>
<span id="cb69-3"><a href="data-summary-eda-initial-model-attempts.html#cb69-3"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">prop =</span> num <span class="op">/</span><span class="st"> </span><span class="kw">sum</span>(num)) <span class="op">%&gt;%</span></span>
<span id="cb69-4"><a href="data-summary-eda-initial-model-attempts.html#cb69-4"></a><span class="st">  </span><span class="kw">ggplot</span>() <span class="op">+</span></span>
<span id="cb69-5"><a href="data-summary-eda-initial-model-attempts.html#cb69-5"></a><span class="st">  </span><span class="kw">geom_col</span>(<span class="kw">aes</span>(<span class="dt">x=</span>rating_num, <span class="dt">y=</span>prop, <span class="dt">group=</span>source, <span class="dt">fill=</span>source), <span class="dt">position =</span> <span class="st">&quot;dodge&quot;</span>) <span class="op">+</span></span>
<span id="cb69-6"><a href="data-summary-eda-initial-model-attempts.html#cb69-6"></a><span class="st">  </span><span class="kw">theme_minimal</span>() <span class="op">+</span></span>
<span id="cb69-7"><a href="data-summary-eda-initial-model-attempts.html#cb69-7"></a><span class="st">  </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;Goodreads, MEC, and Yelp Reviews: Proportion of Counts by Rating&quot;</span>,</span>
<span id="cb69-8"><a href="data-summary-eda-initial-model-attempts.html#cb69-8"></a>       <span class="dt">x =</span> <span class="st">&quot;Star Rating&quot;</span>,</span>
<span id="cb69-9"><a href="data-summary-eda-initial-model-attempts.html#cb69-9"></a>       <span class="dt">y =</span> <span class="st">&quot;Proportion&quot;</span>,</span>
<span id="cb69-10"><a href="data-summary-eda-initial-model-attempts.html#cb69-10"></a>       <span class="dt">fill =</span> <span class="st">&quot;Source&quot;</span>) <span class="op">+</span></span>
<span id="cb69-11"><a href="data-summary-eda-initial-model-attempts.html#cb69-11"></a><span class="st">    </span><span class="kw">scale_fill_viridis_d</span>(<span class="dt">labels =</span> <span class="kw">c</span>(<span class="st">&quot;Goodreads&quot;</span>, <span class="st">&quot;MEC&quot;</span>, <span class="st">&quot;Yelp&quot;</span>))</span></code></pre></div>
<p><img src="telfer-mba-nlp_files/figure-html/plot_prop-1.png" width="672" /></p>
<p>We can use a standard Pearson’s Chi-squared test to see if the Goodreads and Yelp distributions differ meaningfully.</p>
<div class="sourceCode" id="cb70"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb70-1"><a href="data-summary-eda-initial-model-attempts.html#cb70-1"></a>t &lt;-<span class="st"> </span><span class="kw">chisq.test</span>(compare<span class="op">$</span>gr, compare<span class="op">$</span>yp)</span></code></pre></div>
<pre><code>## Warning in chisq.test(compare$gr, compare$yp): Chi-squared approximation may be incorrect</code></pre>
<div class="sourceCode" id="cb72"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb72-1"><a href="data-summary-eda-initial-model-attempts.html#cb72-1"></a>tt &lt;-<span class="st"> </span><span class="kw">chisq.test</span>(<span class="kw">matrix</span>(<span class="kw">c</span>(compare<span class="op">$</span>gr, compare<span class="op">$</span>yp), <span class="dt">ncol=</span><span class="dv">5</span>))</span>
<span id="cb72-2"><a href="data-summary-eda-initial-model-attempts.html#cb72-2"></a>tt</span></code></pre></div>
<pre><code>## 
##  Pearson&#39;s Chi-squared test
## 
## data:  matrix(c(compare$gr, compare$yp), ncol = 5)
## X-squared = 8357.3, df = 4, p-value &lt; 2.2e-16</code></pre>
<p>We find that <em>yes</em>, we can reject the null hypothesis that there is no difference between the two distributions with a large amount of confidence. However, the two review distributions are still <em>qualitatively</em> similar, it’s not clear that the difference between them is large or meaningful–we could look into that later.</p>
</div>
<div id="word-counts-1" class="section level3">
<h3><span class="header-section-number">4.5.2</span> Word Counts</h3>
<p>Out of interest, let’s also check the differences in word-count distributions between the three datasets. From the figure below, we can see that Yelp reviews tend to be much shorter than Goodreads reviews. Just by visual inspection, we can estimate that the 80th percentile Goodreads review is about 500 words, whereas the 80th percentile Yelp review is only about half of that. The MEC reviews are shortest of all.</p>
<div class="sourceCode" id="cb74"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb74-1"><a href="data-summary-eda-initial-model-attempts.html#cb74-1"></a>wordcounts_all &lt;-<span class="st"> </span>wordcounts_gr <span class="op">%&gt;%</span></span>
<span id="cb74-2"><a href="data-summary-eda-initial-model-attempts.html#cb74-2"></a><span class="st">  </span><span class="kw">select</span>(n, cumdist) <span class="op">%&gt;%</span></span>
<span id="cb74-3"><a href="data-summary-eda-initial-model-attempts.html#cb74-3"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">source =</span> <span class="st">&quot;goodreads&quot;</span>) <span class="op">%&gt;%</span></span>
<span id="cb74-4"><a href="data-summary-eda-initial-model-attempts.html#cb74-4"></a><span class="st">  </span><span class="kw">bind_rows</span>( wordcounts_yelp <span class="op">%&gt;%</span></span>
<span id="cb74-5"><a href="data-summary-eda-initial-model-attempts.html#cb74-5"></a><span class="st">               </span><span class="kw">select</span>(n, cumdist) <span class="op">%&gt;%</span></span>
<span id="cb74-6"><a href="data-summary-eda-initial-model-attempts.html#cb74-6"></a><span class="st">               </span><span class="kw">mutate</span>(<span class="dt">source =</span> <span class="st">&quot;yelp&quot;</span>)) <span class="op">%&gt;%</span></span>
<span id="cb74-7"><a href="data-summary-eda-initial-model-attempts.html#cb74-7"></a><span class="st">  </span><span class="kw">bind_rows</span>( wordcounts_mec <span class="op">%&gt;%</span></span>
<span id="cb74-8"><a href="data-summary-eda-initial-model-attempts.html#cb74-8"></a><span class="st">               </span><span class="kw">select</span>(n, cumdist) <span class="op">%&gt;%</span></span>
<span id="cb74-9"><a href="data-summary-eda-initial-model-attempts.html#cb74-9"></a><span class="st">               </span><span class="kw">mutate</span>(<span class="dt">source =</span> <span class="st">&quot;mec&quot;</span>))</span>
<span id="cb74-10"><a href="data-summary-eda-initial-model-attempts.html#cb74-10"></a></span>
<span id="cb74-11"><a href="data-summary-eda-initial-model-attempts.html#cb74-11"></a>wordcounts_all <span class="op">%&gt;%</span></span>
<span id="cb74-12"><a href="data-summary-eda-initial-model-attempts.html#cb74-12"></a><span class="st">  </span><span class="kw">group_by</span>(source) <span class="op">%&gt;%</span></span>
<span id="cb74-13"><a href="data-summary-eda-initial-model-attempts.html#cb74-13"></a><span class="st">  </span><span class="kw">mutate</span> (<span class="dt">prop =</span> cumdist <span class="op">/</span><span class="st"> </span><span class="kw">max</span>(cumdist)) <span class="op">%&gt;%</span></span>
<span id="cb74-14"><a href="data-summary-eda-initial-model-attempts.html#cb74-14"></a><span class="st">  </span><span class="kw">ggplot</span>() <span class="op">+</span></span>
<span id="cb74-15"><a href="data-summary-eda-initial-model-attempts.html#cb74-15"></a><span class="st">  </span><span class="kw">geom_point</span>(<span class="kw">aes</span>(<span class="dt">y=</span>prop, <span class="dt">x=</span>n, <span class="dt">colour =</span> source)) <span class="op">+</span></span>
<span id="cb74-16"><a href="data-summary-eda-initial-model-attempts.html#cb74-16"></a><span class="st">  </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;Cumulative Distribution of Word Lengths&quot;</span>,</span>
<span id="cb74-17"><a href="data-summary-eda-initial-model-attempts.html#cb74-17"></a>         <span class="dt">subtitle =</span> <span class="st">&quot;Comparing Goodreads, MEC, and Yelp&quot;</span>,</span>
<span id="cb74-18"><a href="data-summary-eda-initial-model-attempts.html#cb74-18"></a>         <span class="dt">x =</span> <span class="st">&quot;Word Length&quot;</span>,</span>
<span id="cb74-19"><a href="data-summary-eda-initial-model-attempts.html#cb74-19"></a>         <span class="dt">y =</span> <span class="st">&quot;Cumulative Probability&quot;</span>,</span>
<span id="cb74-20"><a href="data-summary-eda-initial-model-attempts.html#cb74-20"></a>       <span class="dt">colour =</span> <span class="st">&quot;Source&quot;</span>) <span class="op">+</span></span>
<span id="cb74-21"><a href="data-summary-eda-initial-model-attempts.html#cb74-21"></a><span class="st">  </span><span class="kw">scale_color_viridis_d</span>(<span class="dt">labels =</span> <span class="kw">c</span>(<span class="st">&quot;Goodreads&quot;</span>, <span class="st">&quot;MEC&quot;</span>, <span class="st">&quot;Yelp&quot;</span>)) <span class="op">+</span></span>
<span id="cb74-22"><a href="data-summary-eda-initial-model-attempts.html#cb74-22"></a><span class="st">  </span><span class="kw">theme_minimal</span>()</span></code></pre></div>
<p><img src="telfer-mba-nlp_files/figure-html/wordcount_diffs-1.png" width="672" /></p>
<p>To test for difference, we can confirm do a non-parametric Kolmogorov-Smirnov test to see if the Goodreads and Yelp distributions differ.</p>
<div class="sourceCode" id="cb75"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb75-1"><a href="data-summary-eda-initial-model-attempts.html#cb75-1"></a><span class="co"># pull the word lengths for goodreads into a vector</span></span>
<span id="cb75-2"><a href="data-summary-eda-initial-model-attempts.html#cb75-2"></a>grd &lt;-<span class="st"> </span>wordcounts_all <span class="op">%&gt;%</span></span>
<span id="cb75-3"><a href="data-summary-eda-initial-model-attempts.html#cb75-3"></a><span class="st">  </span><span class="kw">filter</span>(source <span class="op">==</span><span class="st"> &quot;goodreads&quot;</span>) <span class="op">%&gt;%</span></span>
<span id="cb75-4"><a href="data-summary-eda-initial-model-attempts.html#cb75-4"></a><span class="st">  </span><span class="kw">pull</span>(n)</span>
<span id="cb75-5"><a href="data-summary-eda-initial-model-attempts.html#cb75-5"></a></span>
<span id="cb75-6"><a href="data-summary-eda-initial-model-attempts.html#cb75-6"></a><span class="co"># pull the word lengths for yelp into a vector</span></span>
<span id="cb75-7"><a href="data-summary-eda-initial-model-attempts.html#cb75-7"></a>ypd &lt;-<span class="st"> </span>wordcounts_all <span class="op">%&gt;%</span></span>
<span id="cb75-8"><a href="data-summary-eda-initial-model-attempts.html#cb75-8"></a><span class="st">  </span><span class="kw">filter</span>(source <span class="op">==</span><span class="st"> &quot;yelp&quot;</span>) <span class="op">%&gt;%</span></span>
<span id="cb75-9"><a href="data-summary-eda-initial-model-attempts.html#cb75-9"></a><span class="st">  </span><span class="kw">pull</span>(n)</span>
<span id="cb75-10"><a href="data-summary-eda-initial-model-attempts.html#cb75-10"></a></span>
<span id="cb75-11"><a href="data-summary-eda-initial-model-attempts.html#cb75-11"></a><span class="co"># run KS test comparing the two vectors</span></span>
<span id="cb75-12"><a href="data-summary-eda-initial-model-attempts.html#cb75-12"></a><span class="kw">ks.test</span>(grd, ypd)</span></code></pre></div>
<pre><code>## Warning in ks.test(grd, ypd): p-value will be approximate in the presence of ties</code></pre>
<pre><code>## 
##  Two-sample Kolmogorov-Smirnov test
## 
## data:  grd and ypd
## D = 0.24968, p-value &lt; 2.2e-16
## alternative hypothesis: two-sided</code></pre>
<div class="sourceCode" id="cb78"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb78-1"><a href="data-summary-eda-initial-model-attempts.html#cb78-1"></a><span class="co"># remove the vectors to keep environment clean</span></span>
<span id="cb78-2"><a href="data-summary-eda-initial-model-attempts.html#cb78-2"></a><span class="kw">rm</span>(grd, ypd)</span></code></pre></div>
<p>We can again reject the null hypothesis that there is no difference between the two distributions. We can hypothesize about why there might be a difference: Goodreads reviewers are writing about books, and so might be expected to be interested in expressing themselves through writing. Yelp reviewers, by and large, are interested in restaurants, and so may not put as much effort into writing full reports.</p>
<p>We might expect the difference in distributions to have an effect on our future modeling, since shorter reviews may contain less information.</p>
</div>
</div>
<div id="reviews-over-time" class="section level2">
<h2><span class="header-section-number">4.6</span> Reviews Over Time</h2>
<p>This section looks at how our review datasets change over time, to see how recent reviews are and if there are any trends in volume.</p>
<div id="goodreads-1" class="section level3">
<h3><span class="header-section-number">4.6.1</span> Goodreads</h3>
<p>The following chart shows the monthly volume of reviews in the Goodreads dataset.</p>
<div class="sourceCode" id="cb79"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb79-1"><a href="data-summary-eda-initial-model-attempts.html#cb79-1"></a>reviews_gr <span class="op">%&gt;%</span></span>
<span id="cb79-2"><a href="data-summary-eda-initial-model-attempts.html#cb79-2"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">dates =</span> lubridate<span class="op">::</span><span class="kw">ymd</span>(dates) <span class="op">%&gt;%</span><span class="st"> </span>lubridate<span class="op">::</span><span class="kw">floor_date</span>(<span class="st">&quot;months&quot;</span>)) <span class="op">%&gt;%</span></span>
<span id="cb79-3"><a href="data-summary-eda-initial-model-attempts.html#cb79-3"></a><span class="st">  </span><span class="kw">group_by</span>(dates) <span class="op">%&gt;%</span></span>
<span id="cb79-4"><a href="data-summary-eda-initial-model-attempts.html#cb79-4"></a><span class="st">  </span><span class="kw">summarise</span>(<span class="dt">n =</span> <span class="kw">n</span>()) <span class="op">%&gt;%</span></span>
<span id="cb79-5"><a href="data-summary-eda-initial-model-attempts.html#cb79-5"></a><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x=</span>dates,<span class="dt">y=</span>n)) <span class="op">+</span></span>
<span id="cb79-6"><a href="data-summary-eda-initial-model-attempts.html#cb79-6"></a><span class="st">  </span><span class="kw">geom_line</span>() <span class="op">+</span></span>
<span id="cb79-7"><a href="data-summary-eda-initial-model-attempts.html#cb79-7"></a><span class="st">  </span><span class="kw">theme_minimal</span>() <span class="op">+</span></span>
<span id="cb79-8"><a href="data-summary-eda-initial-model-attempts.html#cb79-8"></a><span class="st">  </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;Goodreads Reviews: Monthly Volume of New Reviews&quot;</span>,</span>
<span id="cb79-9"><a href="data-summary-eda-initial-model-attempts.html#cb79-9"></a>       <span class="dt">x =</span> <span class="st">&quot;Date&quot;</span>,</span>
<span id="cb79-10"><a href="data-summary-eda-initial-model-attempts.html#cb79-10"></a>       <span class="dt">y =</span> <span class="st">&quot;# of Reviews&quot;</span>)</span></code></pre></div>
<pre><code>## `summarise()` ungrouping output (override with `.groups` argument)</code></pre>
<p><img src="telfer-mba-nlp_files/figure-html/gr_reviews_over_time-1.png" width="672" /></p>
<p>While some reviews date from as far back as 2005, most reviews are from 2020 and the majority are from the past few months. However, it’s unlikely that this distribution represents an actual exponential growth in the number of reviews posted. Instead, recall that I collected reviews for the 100 most-read books in the past week across a few genres. In other words, I collected reviews from books that were being reviewed a lot at that moment in time, so my data collection is heavily biased towards more recent reviews. There may a trend in usage–for example, home-bound readers may be posting more reviews during COVID-19–but we can’t draw any conclusions from this distribution.</p>
</div>
<div id="yelp-1" class="section level3">
<h3><span class="header-section-number">4.6.2</span> Yelp</h3>
<p>The following chart shows the monthly volume of reviews in the Yelp dataset.</p>
<div class="sourceCode" id="cb81"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb81-1"><a href="data-summary-eda-initial-model-attempts.html#cb81-1"></a>reviews_yelp <span class="op">%&gt;%</span></span>
<span id="cb81-2"><a href="data-summary-eda-initial-model-attempts.html#cb81-2"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">date =</span> lubridate<span class="op">::</span><span class="kw">mdy</span>(date) <span class="op">%&gt;%</span><span class="st"> </span>lubridate<span class="op">::</span><span class="kw">floor_date</span>(<span class="st">&quot;months&quot;</span>)) <span class="op">%&gt;%</span></span>
<span id="cb81-3"><a href="data-summary-eda-initial-model-attempts.html#cb81-3"></a><span class="st">  </span><span class="kw">group_by</span>(date) <span class="op">%&gt;%</span></span>
<span id="cb81-4"><a href="data-summary-eda-initial-model-attempts.html#cb81-4"></a><span class="st">  </span><span class="kw">summarise</span>(<span class="dt">n =</span> <span class="kw">n</span>()) <span class="op">%&gt;%</span></span>
<span id="cb81-5"><a href="data-summary-eda-initial-model-attempts.html#cb81-5"></a><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x=</span>date,<span class="dt">y=</span>n)) <span class="op">+</span></span>
<span id="cb81-6"><a href="data-summary-eda-initial-model-attempts.html#cb81-6"></a><span class="st">  </span><span class="kw">geom_line</span>() <span class="op">+</span></span>
<span id="cb81-7"><a href="data-summary-eda-initial-model-attempts.html#cb81-7"></a><span class="st">  </span><span class="kw">theme_minimal</span>() <span class="op">+</span><span class="st"> </span></span>
<span id="cb81-8"><a href="data-summary-eda-initial-model-attempts.html#cb81-8"></a><span class="st">  </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;Yelp Reviews: Monthly Volume of New Reviews&quot;</span>,</span>
<span id="cb81-9"><a href="data-summary-eda-initial-model-attempts.html#cb81-9"></a>       <span class="dt">x =</span> <span class="st">&quot;Date&quot;</span>,</span>
<span id="cb81-10"><a href="data-summary-eda-initial-model-attempts.html#cb81-10"></a>       <span class="dt">y =</span> <span class="st">&quot;# of Reviews&quot;</span>)</span></code></pre></div>
<pre><code>## `summarise()` ungrouping output (override with `.groups` argument)</code></pre>
<p><img src="telfer-mba-nlp_files/figure-html/yp_reviews_over_time-1.png" width="672" /></p>
<p>Since I collected all Yelp reviews for restaurants in Ottawa, we can use this dataset to make statements about how review volumes have changed over time. We can see a steep decline in the early months of 2020, coinciding with the start of the COVID-19 pandemic and worldwide lockdowns. However, the volumes also tell an interesting story pre-COVID. From 2010 to 2015 we can see what looks like slow but steady growth, and then after 2015 usage increases dramatically. From 2015-2020 we can see what look like seasonal trends, but it looks like overall volumes stopped growing and may have started declining. In other words, Yelp may have been in trouble before the pandemic hit.</p>
<p>For our purposes, we can be satisfied that our restaurant review dataset spans a long period of time both pre- and post-COVID.</p>
</div>
<div id="mec" class="section level3">
<h3><span class="header-section-number">4.6.3</span> MEC</h3>
<p>The following chart shows the monthly volume of reviews in the MEC dataset for each complete month. The data was collected in the first few days of November, so I have left November out.</p>
<div class="sourceCode" id="cb83"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb83-1"><a href="data-summary-eda-initial-model-attempts.html#cb83-1"></a>reviews_mec <span class="op">%&gt;%</span></span>
<span id="cb83-2"><a href="data-summary-eda-initial-model-attempts.html#cb83-2"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">date =</span> lubridate<span class="op">::</span><span class="kw">floor_date</span>(date, <span class="st">&quot;months&quot;</span>)) <span class="op">%&gt;%</span></span>
<span id="cb83-3"><a href="data-summary-eda-initial-model-attempts.html#cb83-3"></a><span class="st">  </span><span class="kw">group_by</span>(date) <span class="op">%&gt;%</span></span>
<span id="cb83-4"><a href="data-summary-eda-initial-model-attempts.html#cb83-4"></a><span class="st">  </span><span class="kw">summarise</span>(<span class="dt">n =</span> <span class="kw">n</span>()) <span class="op">%&gt;%</span></span>
<span id="cb83-5"><a href="data-summary-eda-initial-model-attempts.html#cb83-5"></a><span class="st">  </span><span class="kw">slice_head</span>(<span class="dt">n =</span> <span class="kw">nrow</span>(.)<span class="op">-</span><span class="dv">1</span>) <span class="op">%&gt;%</span></span>
<span id="cb83-6"><a href="data-summary-eda-initial-model-attempts.html#cb83-6"></a><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x=</span>date,<span class="dt">y=</span>n)) <span class="op">+</span></span>
<span id="cb83-7"><a href="data-summary-eda-initial-model-attempts.html#cb83-7"></a><span class="st">  </span><span class="kw">geom_line</span>() <span class="op">+</span></span>
<span id="cb83-8"><a href="data-summary-eda-initial-model-attempts.html#cb83-8"></a><span class="st">  </span><span class="kw">theme_minimal</span>() <span class="op">+</span><span class="st"> </span></span>
<span id="cb83-9"><a href="data-summary-eda-initial-model-attempts.html#cb83-9"></a><span class="st">  </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;MEC Reviews: Monthly Volume of New Reviews&quot;</span>,</span>
<span id="cb83-10"><a href="data-summary-eda-initial-model-attempts.html#cb83-10"></a>       <span class="dt">x =</span> <span class="st">&quot;Date&quot;</span>,</span>
<span id="cb83-11"><a href="data-summary-eda-initial-model-attempts.html#cb83-11"></a>       <span class="dt">y =</span> <span class="st">&quot;# of Reviews&quot;</span>)</span></code></pre></div>
<pre><code>## `summarise()` ungrouping output (override with `.groups` argument)</code></pre>
<p><img src="telfer-mba-nlp_files/figure-html/mec_reviews_over_time-1.png" width="672" /></p>
<p>We can expect several biases in the MEC data, so we will need to be cautious about making inferences from this time series. First, I collected MEC data from only a few product categories which may have seasonal trends (e.g. biking in the summer, snowshoeing in the winter). Second, MEC only lists products on its website if they’re currently for sale, so the maximum review age is limited by the longevity of MEC’s product lines. So we should expect to see a decay in review volume as we go further back in time caused by MEC naturally rotating its product line.</p>
<p>That said, we can still see a big dip in early 2020 and then a big spike in summer 2020. This could correspond to a big drop in sales with the COVID lockdown and associated uncertainty, and then a bike spike in outdoor sporting goods as people tried to find socially distanced ways of entertaining themselves over the summer.</p>
<p>Out of curiosity, here are the 10 oldest reviews in our dataset:</p>
<div class="sourceCode" id="cb85"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb85-1"><a href="data-summary-eda-initial-model-attempts.html#cb85-1"></a>reviews_mec <span class="op">%&gt;%</span></span>
<span id="cb85-2"><a href="data-summary-eda-initial-model-attempts.html#cb85-2"></a><span class="st">  </span><span class="kw">arrange</span>(date) <span class="op">%&gt;%</span></span>
<span id="cb85-3"><a href="data-summary-eda-initial-model-attempts.html#cb85-3"></a><span class="st">  </span><span class="kw">slice_head</span>(<span class="dt">n=</span><span class="dv">10</span>) <span class="op">%&gt;%</span></span>
<span id="cb85-4"><a href="data-summary-eda-initial-model-attempts.html#cb85-4"></a><span class="st">  </span><span class="kw">select</span>(date, product_name, review_title)</span></code></pre></div>
<pre><code>## # A tibble: 10 x 3
##    date                product_name                                           review_title                      
##    &lt;dttm&gt;              &lt;chr&gt;                                                  &lt;chr&gt;                             
##  1 2007-05-22 00:00:00 MEC V-Brake Cartridge Brake Pads                       I need more!!!                    
##  2 2007-08-12 00:00:00 MEC V-Brake Shoe/Pad Assembly                          Buy them once, love them forever  
##  3 2007-09-05 00:00:00 SRAM PC-971 9 Speed Chain                              Great value                       
##  4 2008-02-28 00:00:00 MEC V-Brake Cartridge Brake Pads                       Decent brake pads                 
##  5 2008-11-02 00:00:00 MEC V-Brake Shoe/Pad Assembly                          Great product.                    
##  6 2008-12-16 00:00:00 MEC V-Brake Shoe/Pad Assembly                          Best value in a V-brake pad!      
##  7 2008-12-18 00:00:00 Zamberlan Vioz GT Gore-Tex Backpacking Boots - Women&#39;s Mènent au sommet!                 
##  8 2009-01-15 00:00:00 SRAM PC-971 9 Speed Chain                              Decent deal on a higher end chain.
##  9 2009-07-21 18:37:26 SRAM PC-830 8 Speed Chain                              short life                        
## 10 2009-08-17 19:44:51 SRAM PC-830 8 Speed Chain                              Not impressed!</code></pre>
<p>Not surprisingly, 9 out of 10 are for standard bicycle components that are more about function than fashion: it seems that MEC and SRAM have been offering the same brake pads and chains for more than 10 years.</p>
<p>And we can take a look at the first review for the Zamberlan boots:</p>
<div class="sourceCode" id="cb87"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb87-1"><a href="data-summary-eda-initial-model-attempts.html#cb87-1"></a>reviews_mec <span class="op">%&gt;%</span></span>
<span id="cb87-2"><a href="data-summary-eda-initial-model-attempts.html#cb87-2"></a><span class="st">  </span><span class="kw">filter</span>(product_name<span class="op">==</span><span class="st">&quot;Zamberlan Vioz GT Gore-Tex Backpacking Boots - Women&#39;s&quot;</span>) <span class="op">%&gt;%</span></span>
<span id="cb87-3"><a href="data-summary-eda-initial-model-attempts.html#cb87-3"></a><span class="st">  </span><span class="kw">slice_head</span>(<span class="dt">n=</span><span class="dv">1</span>) <span class="op">%&gt;%</span></span>
<span id="cb87-4"><a href="data-summary-eda-initial-model-attempts.html#cb87-4"></a><span class="st">  </span><span class="kw">transmute</span>(<span class="dt">date =</span> date,</span>
<span id="cb87-5"><a href="data-summary-eda-initial-model-attempts.html#cb87-5"></a>            <span class="dt">comment =</span> <span class="kw">str_trunc</span>(comment, <span class="dv">150</span>)) </span></code></pre></div>
<pre><code>## # A tibble: 1 x 2
##   date                comment                                                                                                                                               
##   &lt;dttm&gt;              &lt;chr&gt;                                                                                                                                                 
## 1 2015-05-26 20:40:15 I&#39;ve been using these Zamberlan Viozes for the past 4 years. I&#39;ve owned 4 pairs in that time and I&#39;m just about to start my 5th. I buy a pair every...</code></pre>
<p>These boots seem to have been around for a while (and certainly seem to have committed fans), so we can be confident that these reviews are legit.</p>
</div>
</div>
<div id="proposed-next-steps" class="section level2">
<h2><span class="header-section-number">4.7</span> Proposed Next Steps</h2>
<ul>
<li>Sentiment analysis</li>
<li>Regression models
<ul>
<li>LASSO regression to predict star rating from review text.
<ul>
<li>Potential to use minimum review length as a parameter.</li>
</ul></li>
<li>Linear regression to predict star rating from review sentiment.</li>
</ul></li>
<li>Classification models</li>
</ul>
</div>
<div id="sessioninfo" class="section level2">
<h2><span class="header-section-number">4.8</span> SessionInfo</h2>
<div class="sourceCode" id="cb89"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb89-1"><a href="data-summary-eda-initial-model-attempts.html#cb89-1"></a><span class="kw">sessionInfo</span>()</span></code></pre></div>
<pre><code>## R version 4.0.2 (2020-06-22)
## Platform: x86_64-w64-mingw32/x64 (64-bit)
## Running under: Windows 10 x64 (build 18363)
## 
## Matrix products: default
## 
## locale:
## [1] LC_COLLATE=English_Canada.1252  LC_CTYPE=English_Canada.1252    LC_MONETARY=English_Canada.1252 LC_NUMERIC=C                    LC_TIME=English_Canada.1252    
## 
## attached base packages:
## [1] stats     graphics  grDevices utils     datasets  methods   base     
## 
## other attached packages:
##  [1] vip_0.2.2         glmnet_4.0-2      Matrix_1.2-18     ggridges_0.5.2    discrim_0.1.1     tictoc_1.0        textrecipes_0.3.0 lubridate_1.7.9   yardstick_0.0.7   workflows_0.2.0  
## [11] tune_0.1.1        rsample_0.0.8     recipes_0.1.13    parsnip_0.1.4     modeldata_0.0.2   infer_0.5.3       dials_0.0.9       scales_1.1.1      broom_0.7.0       tidymodels_0.1.1 
## [21] tidytext_0.2.5    forcats_0.5.0     stringr_1.4.0     dplyr_1.0.2       purrr_0.3.4       readr_1.3.1       tidyr_1.1.1       tibble_3.0.3      ggplot2_3.3.2     tidyverse_1.3.0  
## 
## loaded via a namespace (and not attached):
##  [1] colorspace_1.4-1   ellipsis_0.3.1     class_7.3-17       fs_1.5.0           rstudioapi_0.11    listenv_0.8.0      furrr_0.1.0        farver_2.0.3       SnowballC_0.7.0   
## [10] prodlim_2019.11.13 fansi_0.4.1        xml2_1.3.2         codetools_0.2-16   splines_4.0.2      knitr_1.29         jsonlite_1.7.0     pROC_1.16.2        packrat_0.5.0     
## [19] dbplyr_1.4.4       compiler_4.0.2     httr_1.4.2         backports_1.1.7    assertthat_0.2.1   cli_2.0.2          htmltools_0.5.0    tools_4.0.2        gtable_0.3.0      
## [28] glue_1.4.1         naivebayes_0.9.7   rappdirs_0.3.1     Rcpp_1.0.5         cellranger_1.1.0   DiceDesign_1.8-1   vctrs_0.3.2        iterators_1.0.12   timeDate_3043.102 
## [37] gower_0.2.2        xfun_0.16          stopwords_2.0      globals_0.13.0     rvest_0.3.6        lifecycle_0.2.0    future_1.19.1      MASS_7.3-51.6      ipred_0.9-9       
## [46] hms_0.5.3          parallel_4.0.2     yaml_2.2.1         gridExtra_2.3      rpart_4.1-15       stringi_1.4.6      highr_0.8          tokenizers_0.2.1   foreach_1.5.0     
## [55] textdata_0.4.1     lhs_1.0.2          hardhat_0.1.4      shape_1.4.5        lava_1.6.8         rlang_0.4.7        pkgconfig_2.0.3    evaluate_0.14      lattice_0.20-41   
## [64] labeling_0.3       tidyselect_1.1.0   plyr_1.8.6         magrittr_1.5       bookdown_0.20      R6_2.4.1           generics_0.0.2     DBI_1.1.0          pillar_1.4.6      
## [73] haven_2.3.1        withr_2.2.0        survival_3.1-12    nnet_7.3-14        janeaustenr_0.1.5  modelr_0.1.8       crayon_1.3.4       utf8_1.1.4         rmarkdown_2.3     
## [82] usethis_1.6.1      grid_4.0.2         readxl_1.3.1       blob_1.2.1         reprex_0.3.0       digest_0.6.25      webshot_0.5.2      munsell_0.5.0      GPfit_1.0-8       
## [91] viridisLite_0.3.0  kableExtra_1.1.0</code></pre>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="web-scraping-our-data.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="a-first-lasso-attempt.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/rstudio/bookdown-demo/edit/master/03-EDA-and-initial-analysis.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["telfer-mba-nlp.pdf", "telfer-mba-nlp.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
